<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Paparazzi UAS: sw/airborne/modules/ctrl/optical_flow_landing.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v5.10_stable-4-gcab1317-dirty</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('optical__flow__landing_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">optical_flow_landing.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module implements optical flow landings in which the divergence is kept constant.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="rotorcraft_2autopilot_8h_source.html">firmwares/rotorcraft/autopilot.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="common__flight__plan_8h_source.html">subsystems/navigation/common_flight_plan.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="telemetry_8h_source.html">subsystems/datalink/telemetry.h</a>&quot;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="optical__flow__landing_8h_source.html">modules/ctrl/optical_flow_landing.h</a>&quot;</code><br />
<code>#include &quot;generated/airframe.h&quot;</code><br />
<code>#include &quot;<a class="el" href="paparazzi_8h_source.html">paparazzi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="abi_8h_source.html">subsystems/abi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stabilization_8h_source.html">firmwares/rotorcraft/stabilization.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for optical_flow_landing.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c__incl.png" border="0" usemap="#sw_2airborne_2modules_2ctrl_2optical__flow__landing_8c" alt=""/></div>
<map name="sw_2airborne_2modules_2ctrl_2optical__flow__landing_8c" id="sw_2airborne_2modules_2ctrl_2optical__flow__landing_8c">
<area shape="rect" id="node2" href="rotorcraft_2autopilot_8h.html" title="Autopilot modes. " alt="" coords="1136,95,1284,136"/><area shape="rect" id="node21" href="common__flight__plan_8h.html" title="Common flight_plan functions shared between fixedwing and rotorcraft. " alt="" coords="1551,184,1720,225"/><area shape="rect" id="node22" href="telemetry_8h.html" title="Periodic telemetry system header (includes downlink utility and generated code). " alt="" coords="1824,95,1977,136"/><area shape="rect" id="node34" href="optical__flow__landing_8h.html" title="This module implements optical flow landings in which the divergence is kept constant. " alt="" coords="589,95,735,136"/><area shape="rect" id="node35" href="paparazzi_8h.html" title="paparazzi.h" alt="" coords="2293,102,2389,129"/><area shape="rect" id="node36" href="abi_8h.html" title="Main include for ABI (AirBorneInterface). " alt="" coords="2045,102,2180,129"/><area shape="rect" id="node38" href="stabilization_8h.html" title="General stabilization interface for rotorcrafts. " alt="" coords="1276,184,1424,225"/><area shape="rect" id="node5" href="state_8h.html" title="API to get/set the generic vehicle states. " alt="" coords="675,191,742,218"/><area shape="rect" id="node19" href="settings_8h.html" title="Persistent settings interface. " alt="" coords="1143,437,1309,464"/><area shape="rect" id="node6" href="pprz__algebra__int_8h.html" title="Paparazzi fixed point algebra. " alt="" coords="587,363,766,389"/><area shape="rect" id="node12" href="pprz__algebra__float_8h.html" title="Paparazzi floating point algebra. " alt="" coords="271,363,461,389"/><area shape="rect" id="node15" href="pprz__geodetic__int_8h.html" title="Paparazzi fixed point math for geodetic calculations. " alt="" coords="691,273,841,315"/><area shape="rect" id="node17" href="pprz__geodetic__float_8h.html" title="Paparazzi floating point math for geodetic calculations. " alt="" coords="865,273,1016,315"/><area shape="rect" id="node18" href="pprz__orientation__conversion_8h.html" title="Generic orientation representation and conversions. " alt="" coords="451,273,615,315"/><area shape="rect" id="node7" href="pprz__algebra_8h.html" title="Paparazzi generic algebra macros. " alt="" coords="314,437,469,464"/><area shape="rect" id="node10" href="pprz__trig__int_8h.html" title="Paparazzi fixed point trig functions. " alt="" coords="595,437,745,464"/><area shape="rect" id="node16" href="pprz__geodetic_8h.html" title="Paparazzi generic macros for geodetic calculations. " alt="" coords="841,363,965,389"/><area shape="rect" id="node23" href="uart_8h.html" title="arch independent UART (Universal Asynchronous Receiver/Transmitter) API " alt="" coords="2209,281,2347,307"/><area shape="rect" id="node27" href="downlink_8h.html" title="Common code for AP and FBW telemetry. " alt="" coords="1824,184,1977,225"/><area shape="rect" id="node28" href="inttypes_8h.html" title="inttypes.h" alt="" coords="2371,281,2457,307"/><area shape="rect" id="node31" href="datalink_8h.html" title="Handling of messages coming from ground and other A/Cs. " alt="" coords="1671,273,1824,315"/></map>
</div>
</div>
<p><a href="optical__flow__landing_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab710e4da24aa2886896e5854073e368f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ab710e4da24aa2886896e5854073e368f">MINIMUM_GAIN</a>&#160;&#160;&#160;0.1</td></tr>
<tr class="separator:ab710e4da24aa2886896e5854073e368f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684c6df24095c88656cba0e49cda95f9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a684c6df24095c88656cba0e49cda95f9">OPTICAL_FLOW_LANDING_AGL_ID</a>&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td></tr>
<tr class="separator:a684c6df24095c88656cba0e49cda95f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7877f2aee2ff165cad9b596cfa1d7e94"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a7877f2aee2ff165cad9b596cfa1d7e94">OPTICAL_FLOW_LANDING_OPTICAL_FLOW_ID</a>&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td></tr>
<tr class="separator:a7877f2aee2ff165cad9b596cfa1d7e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9bd61f27acab1b3afa9a5bf4ed33a4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a1b9bd61f27acab1b3afa9a5bf4ed33a4">OPTICAL_FLOW_LANDING_PGAIN</a>&#160;&#160;&#160;1.0</td></tr>
<tr class="separator:a1b9bd61f27acab1b3afa9a5bf4ed33a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59220a8f9d2430c88d97c9599b2cca47"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a59220a8f9d2430c88d97c9599b2cca47">OPTICAL_FLOW_LANDING_IGAIN</a>&#160;&#160;&#160;0.0</td></tr>
<tr class="separator:a59220a8f9d2430c88d97c9599b2cca47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00fc2faacba4cecf27aa31d30bb6da9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a00fc2faacba4cecf27aa31d30bb6da9d">OPTICAL_FLOW_LANDING_DGAIN</a>&#160;&#160;&#160;0.0</td></tr>
<tr class="separator:a00fc2faacba4cecf27aa31d30bb6da9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5d5b2a4d374b495e2347f6ff7262792"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#af5d5b2a4d374b495e2347f6ff7262792">OPTICAL_FLOW_LANDING_VISION_METHOD</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:af5d5b2a4d374b495e2347f6ff7262792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a9f39d19be80ab9fc9872539d58cafa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a3a9f39d19be80ab9fc9872539d58cafa">OPTICAL_FLOW_LANDING_CONTROL_METHOD</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a3a9f39d19be80ab9fc9872539d58cafa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f00d74d13cf88916b241e2b1f3d5a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a65f00d74d13cf88916b241e2b1f3d5a8">OPTICAL_FLOW_LANDING_COV_METHOD</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a65f00d74d13cf88916b241e2b1f3d5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afd99ef7471eed18456a2952ad85f30c5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#afd99ef7471eed18456a2952ad85f30c5">send_divergence</a> (struct transport_tx *trans, struct link_device *<a class="el" href="stm32_2usb__ser__hw_8c.html#af2dab4ea4560c93acc64b4418db49f84">dev</a>)</td></tr>
<tr class="separator:afd99ef7471eed18456a2952ad85f30c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bcd862f437ba8c9b6f39ca5aab90b9e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a3bcd862f437ba8c9b6f39ca5aab90b9e">vertical_ctrl_agl_cb</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> sender_id, float distance)</td></tr>
<tr class="memdesc:a3bcd862f437ba8c9b6f39ca5aab90b9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function of the ground altitude.  <a href="#a3bcd862f437ba8c9b6f39ca5aab90b9e">More...</a><br /></td></tr>
<tr class="separator:a3bcd862f437ba8c9b6f39ca5aab90b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ca665458be45c371807021104f2cdb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a98ca665458be45c371807021104f2cdb">vertical_ctrl_optical_flow_cb</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> sender_id, <a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> stamp, <a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_x, <a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_y, <a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_der_x, <a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_der_y, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> quality, float size_divergence, float dist)</td></tr>
<tr class="separator:a98ca665458be45c371807021104f2cdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089aaff33040a49a6598aad79528dd1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e">vertical_ctrl_module_init</a> (void)</td></tr>
<tr class="memdesc:a089aaff33040a49a6598aad79528dd1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the optical flow landing module.  <a href="#a089aaff33040a49a6598aad79528dd1e">More...</a><br /></td></tr>
<tr class="separator:a089aaff33040a49a6598aad79528dd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9628e4f2b9a046bb7ff80c208ab85daa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a9628e4f2b9a046bb7ff80c208ab85daa">vertical_ctrl_module_run</a> (bool in_flight)</td></tr>
<tr class="memdesc:a9628e4f2b9a046bb7ff80c208ab85daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the optical flow landing module.  <a href="#a9628e4f2b9a046bb7ff80c208ab85daa">More...</a><br /></td></tr>
<tr class="separator:a9628e4f2b9a046bb7ff80c208ab85daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab13dd8b6fd890c9ff29880b8ef767282"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ab13dd8b6fd890c9ff29880b8ef767282">reset_all_vars</a> ()</td></tr>
<tr class="memdesc:ab13dd8b6fd890c9ff29880b8ef767282"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all variables:  <a href="#ab13dd8b6fd890c9ff29880b8ef767282">More...</a><br /></td></tr>
<tr class="separator:ab13dd8b6fd890c9ff29880b8ef767282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163c737b124aa1ec4e930e6ab400ed03"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a163c737b124aa1ec4e930e6ab400ed03">get_mean_array</a> (float *a, int n_elements)</td></tr>
<tr class="memdesc:a163c737b124aa1ec4e930e6ab400ed03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the mean value of an array.  <a href="#a163c737b124aa1ec4e930e6ab400ed03">More...</a><br /></td></tr>
<tr class="separator:a163c737b124aa1ec4e930e6ab400ed03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57755bb0d4696725a402004aabac907"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ac57755bb0d4696725a402004aabac907">get_cov</a> (float *a, float *b, int n_elements)</td></tr>
<tr class="memdesc:ac57755bb0d4696725a402004aabac907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the covariance of two arrays.  <a href="#ac57755bb0d4696725a402004aabac907">More...</a><br /></td></tr>
<tr class="separator:ac57755bb0d4696725a402004aabac907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a535ad2dedb628ec10707a6c0448c525e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e">guidance_v_module_init</a> (void)</td></tr>
<tr class="separator:a535ad2dedb628ec10707a6c0448c525e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1288433c507106e865034b02ae79b2d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a1288433c507106e865034b02ae79b2d6">guidance_v_module_enter</a> (void)</td></tr>
<tr class="memdesc:a1288433c507106e865034b02ae79b2d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entering the module (user switched to module)  <a href="#a1288433c507106e865034b02ae79b2d6">More...</a><br /></td></tr>
<tr class="separator:a1288433c507106e865034b02ae79b2d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ef9289dfa15084a7457a97ad7632c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a24ef9289dfa15084a7457a97ad7632c8">guidance_v_module_run</a> (bool in_flight)</td></tr>
<tr class="separator:a24ef9289dfa15084a7457a97ad7632c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a112848b37c86d125c062efba5439423b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a112848b37c86d125c062efba5439423b">divergence</a></td></tr>
<tr class="separator:a112848b37c86d125c062efba5439423b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a59ca2aeff4d163658a4e7e12a02dd8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a7a59ca2aeff4d163658a4e7e12a02dd8">divergence_vision</a></td></tr>
<tr class="separator:a7a59ca2aeff4d163658a4e7e12a02dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99432c0bee7e762ef48150e334024ac6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a99432c0bee7e762ef48150e334024ac6">divergence_vision_dt</a></td></tr>
<tr class="separator:a99432c0bee7e762ef48150e334024ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f278c7a6c8471f63e12eb324d7f021"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a22f278c7a6c8471f63e12eb324d7f021">normalized_thrust</a></td></tr>
<tr class="separator:a22f278c7a6c8471f63e12eb324d7f021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1eb4bb0fed2c8f7231d95df4e76de42"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#af1eb4bb0fed2c8f7231d95df4e76de42">cov_div</a></td></tr>
<tr class="separator:af1eb4bb0fed2c8f7231d95df4e76de42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad4e3c7c6d53e37efe585248474b4b38"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#aad4e3c7c6d53e37efe585248474b4b38">pstate</a></td></tr>
<tr class="separator:aad4e3c7c6d53e37efe585248474b4b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a900b0336b231dbc0555dddc5e3331b46"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a900b0336b231dbc0555dddc5e3331b46">pused</a></td></tr>
<tr class="separator:a900b0336b231dbc0555dddc5e3331b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a778e38aa889751afffa2dea6b803e67a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a778e38aa889751afffa2dea6b803e67a">dt</a></td></tr>
<tr class="separator:a778e38aa889751afffa2dea6b803e67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d76c98461ee1cb608de91c3dec339f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a6d76c98461ee1cb608de91c3dec339f0">vision_message_nr</a></td></tr>
<tr class="separator:a6d76c98461ee1cb608de91c3dec339f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad53e39cff7af5873fdfb7cdcced57c4b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ad53e39cff7af5873fdfb7cdcced57c4b">previous_message_nr</a></td></tr>
<tr class="separator:ad53e39cff7af5873fdfb7cdcced57c4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334c895aad5c1ccc1a7156e213928d79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a334c895aad5c1ccc1a7156e213928d79">landing</a></td></tr>
<tr class="separator:a334c895aad5c1ccc1a7156e213928d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa766d7f671bb51d97b848d91da3a9ca6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#aa766d7f671bb51d97b848d91da3a9ca6">previous_err</a></td></tr>
<tr class="separator:aa766d7f671bb51d97b848d91da3a9ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ded965fdb67e8374e03fbfff564ee79"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a1ded965fdb67e8374e03fbfff564ee79">previous_cov_err</a></td></tr>
<tr class="separator:a1ded965fdb67e8374e03fbfff564ee79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c3741cff55d60c09db5ed8f8b4976e"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a49c3741cff55d60c09db5ed8f8b4976e">previous_time</a></td></tr>
<tr class="separator:a49c3741cff55d60c09db5ed8f8b4976e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa50262a1e494235831469694c69b177"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#afa50262a1e494235831469694c69b177">agl_ev</a></td></tr>
<tr class="memdesc:afa50262a1e494235831469694c69b177"><td class="mdescLeft">&#160;</td><td class="mdescRight">The altitude ABI event.  <a href="#afa50262a1e494235831469694c69b177">More...</a><br /></td></tr>
<tr class="separator:afa50262a1e494235831469694c69b177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141009974fbc44658bdd3334ff2e1d62"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a141009974fbc44658bdd3334ff2e1d62">optical_flow_ev</a></td></tr>
<tr class="separator:a141009974fbc44658bdd3334ff2e1d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4982b2ef527a9bb63dad1833b51849b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="optical__flow__landing_8h.html#structOpticalFlowLanding">OpticalFlowLanding</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ad4982b2ef527a9bb63dad1833b51849b">of_landing_ctrl</a></td></tr>
<tr class="separator:ad4982b2ef527a9bb63dad1833b51849b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module implements optical flow landings in which the divergence is kept constant. </p>
<p>When using a fixed gain for control, the covariance between thrust and divergence is tracked, so that the drone knows when it has arrived close to the landing surface. Then, a final landing procedure is triggered. It can also be set to adaptive gain control, where the goal is to continuously gauge the distance to the landing surface. In this mode, the drone will oscillate all the way down to the surface.</p>
<p>de Croon, G.C.H.E. (2016). Monocular distance estimation with optical flow maneuvers and efference copies: a stability-based strategy. Bioinspiration &amp; biomimetics, 11(1), 016004. <a href="http://iopscience.iop.org/article/10.1088/1748-3190/11/1/016004">http://iopscience.iop.org/article/10.1088/1748-3190/11/1/016004</a> </p>

<p>Definition in file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab710e4da24aa2886896e5854073e368f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINIMUM_GAIN&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00053">53</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a684c6df24095c88656cba0e49cda95f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPTICAL_FLOW_LANDING_AGL_ID&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00080">80</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a9f39d19be80ab9fc9872539d58cafa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPTICAL_FLOW_LANDING_CONTROL_METHOD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00108">108</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a65f00d74d13cf88916b241e2b1f3d5a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPTICAL_FLOW_LANDING_COV_METHOD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00112">112</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a00fc2faacba4cecf27aa31d30bb6da9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPTICAL_FLOW_LANDING_DGAIN&#160;&#160;&#160;0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00100">100</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a59220a8f9d2430c88d97c9599b2cca47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPTICAL_FLOW_LANDING_IGAIN&#160;&#160;&#160;0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00096">96</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7877f2aee2ff165cad9b596cfa1d7e94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPTICAL_FLOW_LANDING_OPTICAL_FLOW_ID&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00086">86</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b9bd61f27acab1b3afa9a5bf4ed33a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPTICAL_FLOW_LANDING_PGAIN&#160;&#160;&#160;1.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00092">92</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="af5d5b2a4d374b495e2347f6ff7262792"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPTICAL_FLOW_LANDING_VISION_METHOD&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00104">104</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ac57755bb0d4696725a402004aabac907"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float get_cov </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_elements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the covariance of two arrays. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">cov</td><td>The covariance </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*a</td><td>The first array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*b</td><td>The second array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Number of elements in the arrays </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00459">459</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8c_source.html#l00440">get_mean_array()</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_ac57755bb0d4696725a402004aabac907_cgraph.png" border="0" usemap="#optical__flow__landing_8c_ac57755bb0d4696725a402004aabac907_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_ac57755bb0d4696725a402004aabac907_cgraph" id="optical__flow__landing_8c_ac57755bb0d4696725a402004aabac907_cgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a163c737b124aa1ec4e930e6ab400ed03" title="Get the mean value of an array. " alt="" coords="125,5,252,32"/></map>
</div>
</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_ac57755bb0d4696725a402004aabac907_icgraph.png" border="0" usemap="#optical__flow__landing_8c_ac57755bb0d4696725a402004aabac907_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_ac57755bb0d4696725a402004aabac907_icgraph" id="optical__flow__landing_8c_ac57755bb0d4696725a402004aabac907_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a9628e4f2b9a046bb7ff80c208ab85daa" title="Run the optical flow landing module. " alt="" coords="125,5,304,32"/><area shape="rect" id="node3" href="vertical__ctrl__module__demo_8h.html#a24ef9289dfa15084a7457a97ad7632c8" title="guidance_v_module_run" alt="" coords="352,5,529,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a163c737b124aa1ec4e930e6ab400ed03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float get_mean_array </td>
          <td>(</td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_elements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the mean value of an array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">mean</td><td>The mean value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*a</td><td>The array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n</td><td>Number of elements in the array </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00440">440</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00459">get_cov()</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a163c737b124aa1ec4e930e6ab400ed03_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a163c737b124aa1ec4e930e6ab400ed03_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a163c737b124aa1ec4e930e6ab400ed03_icgraph" id="optical__flow__landing_8c_a163c737b124aa1ec4e930e6ab400ed03_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8h.html#ac57755bb0d4696725a402004aabac907" title="Get the covariance of two arrays. " alt="" coords="180,5,252,32"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a9628e4f2b9a046bb7ff80c208ab85daa" title="Run the optical flow landing module. " alt="" coords="300,5,479,32"/><area shape="rect" id="node4" href="vertical__ctrl__module__demo_8h.html#a24ef9289dfa15084a7457a97ad7632c8" title="guidance_v_module_run" alt="" coords="527,5,704,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1288433c507106e865034b02ae79b2d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void guidance_v_module_enter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Entering the module (user switched to module) </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00501">501</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00046">OpticalFlowLanding::agl_lp</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00041">cov_div</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00057">OpticalFlowLanding::cov_set_point</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00039">COV_WINDOW_SIZE</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00037">divergence</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00070">divergence_history</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00049">OpticalFlowLanding::divergence_setpoint</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00044">dt</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00072">ind_hist</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00047">landing</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00040">normalized_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00123">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00049">previous_cov_err</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00048">previous_err</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00046">previous_message_nr</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00062">previous_time</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00053">OpticalFlowLanding::sum_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00069">thrust_history</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00045">vision_message_nr</a>.</p>

</div>
</div>
<a class="anchor" id="a535ad2dedb628ec10707a6c0448c525e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void guidance_v_module_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00493">493</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a535ad2dedb628ec10707a6c0448c525e_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a535ad2dedb628ec10707a6c0448c525e_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a535ad2dedb628ec10707a6c0448c525e_cgraph" id="optical__flow__landing_8c_a535ad2dedb628ec10707a6c0448c525e_cgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e" title="Initialize the optical flow landing module. " alt="" coords="228,93,404,120"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a3bcd862f437ba8c9b6f39ca5aab90b9e" title="Callback function of the ground altitude. " alt="" coords="479,5,622,32"/><area shape="rect" id="node4" href="optical__flow__landing_8c.html#a98ca665458be45c371807021104f2cdb" title="vertical_ctrl_optical\l_flow_cb" alt="" coords="479,57,623,98"/><area shape="rect" id="node5" href="telemetry_8c.html#a8b8cf43739f06c54d16370c141b541a0" title="Register a telemetry callback function. " alt="" coords="452,123,649,149"/><area shape="rect" id="node6" href="optical__flow__landing_8c.html#afd99ef7471eed18456a2952ad85f30c5" title="send_divergence" alt="" coords="485,173,616,200"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a24ef9289dfa15084a7457a97ad7632c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void guidance_v_module_run </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>in_flight</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00526">526</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab13dd8b6fd890c9ff29880b8ef767282"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_all_vars </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset all variables: </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00194">194</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00046">OpticalFlowLanding::agl_lp</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00041">cov_div</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00057">OpticalFlowLanding::cov_set_point</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00039">COV_WINDOW_SIZE</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00037">divergence</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00070">divergence_history</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00049">OpticalFlowLanding::divergence_setpoint</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00044">dt</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00072">ind_hist</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00047">landing</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00040">normalized_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00123">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00049">previous_cov_err</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00048">previous_err</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00046">previous_message_nr</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00062">previous_time</a>, <a class="el" href="stabilization_8c_source.html#l00028">stabilization_cmd</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00053">OpticalFlowLanding::sum_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00069">thrust_history</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00045">vision_message_nr</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_ab13dd8b6fd890c9ff29880b8ef767282_icgraph.png" border="0" usemap="#optical__flow__landing_8c_ab13dd8b6fd890c9ff29880b8ef767282_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_ab13dd8b6fd890c9ff29880b8ef767282_icgraph" id="optical__flow__landing_8c_ab13dd8b6fd890c9ff29880b8ef767282_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a9628e4f2b9a046bb7ff80c208ab85daa" title="Run the optical flow landing module. " alt="" coords="164,5,343,32"/><area shape="rect" id="node3" href="vertical__ctrl__module__demo_8h.html#a24ef9289dfa15084a7457a97ad7632c8" title="guidance_v_module_run" alt="" coords="391,5,568,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afd99ef7471eed18456a2952ad85f30c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void send_divergence </td>
          <td>(</td>
          <td class="paramtype">struct transport_tx *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct link_device *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00065">65</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00045">OpticalFlowLanding::agl</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00041">cov_div</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00037">divergence</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00039">divergence_vision_dt</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00040">normalized_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00123">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00042">pstate</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00043">pused</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_afd99ef7471eed18456a2952ad85f30c5_icgraph.png" border="0" usemap="#optical__flow__landing_8c_afd99ef7471eed18456a2952ad85f30c5_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_afd99ef7471eed18456a2952ad85f30c5_icgraph" id="optical__flow__landing_8c_afd99ef7471eed18456a2952ad85f30c5_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e" title="Initialize the optical flow landing module. " alt="" coords="184,5,360,32"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e" title="guidance_v_module_init" alt="" coords="408,5,583,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3bcd862f437ba8c9b6f39ca5aab90b9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vertical_ctrl_agl_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>sender_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback function of the ground altitude. </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00479">479</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00045">OpticalFlowLanding::agl</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00123">of_landing_ctrl</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a3bcd862f437ba8c9b6f39ca5aab90b9e_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a3bcd862f437ba8c9b6f39ca5aab90b9e_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a3bcd862f437ba8c9b6f39ca5aab90b9e_icgraph" id="optical__flow__landing_8c_a3bcd862f437ba8c9b6f39ca5aab90b9e_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e" title="Initialize the optical flow landing module. " alt="" coords="196,5,372,32"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e" title="guidance_v_module_init" alt="" coords="420,5,595,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a089aaff33040a49a6598aad79528dd1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vertical_ctrl_module_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the optical flow landing module. </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00131">131</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00045">OpticalFlowLanding::agl</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00046">OpticalFlowLanding::agl_lp</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00056">OpticalFlowLanding::CONTROL_METHOD</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00041">cov_div</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00058">OpticalFlowLanding::cov_limit</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00062">OpticalFlowLanding::COV_METHOD</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00057">OpticalFlowLanding::cov_set_point</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00039">COV_WINDOW_SIZE</a>, <a class="el" href="telemetry_8h_source.html#l00066">DefaultPeriodic</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00063">OpticalFlowLanding::delay_steps</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00052">OpticalFlowLanding::dgain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00061">OpticalFlowLanding::dgain_adaptive</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00037">divergence</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00070">divergence_history</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00049">OpticalFlowLanding::divergence_setpoint</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00038">divergence_vision</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00039">divergence_vision_dt</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00044">dt</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00051">OpticalFlowLanding::igain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00060">OpticalFlowLanding::igain_adaptive</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00072">ind_hist</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00047">landing</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00047">OpticalFlowLanding::lp_factor</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00054">OpticalFlowLanding::nominal_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00040">normalized_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00123">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00080">OPTICAL_FLOW_LANDING_AGL_ID</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00108">OPTICAL_FLOW_LANDING_CONTROL_METHOD</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00112">OPTICAL_FLOW_LANDING_COV_METHOD</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00100">OPTICAL_FLOW_LANDING_DGAIN</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00096">OPTICAL_FLOW_LANDING_IGAIN</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00086">OPTICAL_FLOW_LANDING_OPTICAL_FLOW_ID</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00092">OPTICAL_FLOW_LANDING_PGAIN</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00104">OPTICAL_FLOW_LANDING_VISION_METHOD</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00050">OpticalFlowLanding::pgain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00059">OpticalFlowLanding::pgain_adaptive</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00049">previous_cov_err</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00048">previous_err</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00046">previous_message_nr</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00062">previous_time</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00042">pstate</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00043">pused</a>, <a class="el" href="telemetry_8c_source.html#l00046">register_periodic_telemetry()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00065">send_divergence()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00053">OpticalFlowLanding::sum_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00069">thrust_history</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00048">OpticalFlowLanding::vel</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00479">vertical_ctrl_agl_cb()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00483">vertical_ctrl_optical_flow_cb()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00045">vision_message_nr</a>, and <a class="el" href="optical__flow__landing_8h_source.html#l00055">OpticalFlowLanding::VISION_METHOD</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00493">guidance_v_module_init()</a>.</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_cgraph" id="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_cgraph">
<area shape="rect" id="node2" href="telemetry_8c.html#a8b8cf43739f06c54d16370c141b541a0" title="Register a telemetry callback function. " alt="" coords="229,5,427,32"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#afd99ef7471eed18456a2952ad85f30c5" title="send_divergence" alt="" coords="263,56,393,83"/><area shape="rect" id="node4" href="optical__flow__landing_8c.html#a3bcd862f437ba8c9b6f39ca5aab90b9e" title="Callback function of the ground altitude. " alt="" coords="257,107,399,133"/><area shape="rect" id="node5" href="optical__flow__landing_8c.html#a98ca665458be45c371807021104f2cdb" title="vertical_ctrl_optical\l_flow_cb" alt="" coords="256,158,400,199"/></map>
</div>
</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_icgraph" id="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e" title="guidance_v_module_init" alt="" coords="229,5,404,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9628e4f2b9a046bb7ff80c208ab85daa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vertical_ctrl_module_run </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>in_flight</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the optical flow landing module. </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00224">224</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00045">OpticalFlowLanding::agl</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00046">OpticalFlowLanding::agl_lp</a>, <a class="el" href="pprz__geodetic__int_8h_source.html#l00062">LlaCoor_i::alt</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00056">OpticalFlowLanding::CONTROL_METHOD</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00041">cov_div</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00058">OpticalFlowLanding::cov_limit</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00062">OpticalFlowLanding::COV_METHOD</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00057">OpticalFlowLanding::cov_set_point</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00039">COV_WINDOW_SIZE</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00063">OpticalFlowLanding::delay_steps</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00037">divergence</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00070">divergence_history</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00049">OpticalFlowLanding::divergence_setpoint</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00038">divergence_vision</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00039">divergence_vision_dt</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00044">dt</a>, <a class="el" href="pprz__geodetic__utm_8h_source.html#l00040">E</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00459">get_cov()</a>, <a class="el" href="gps_8c_source.html#l00075">gps</a>, <a class="el" href="stm32_2subsystems_2radio__control_2spektrum__arch_8c_source.html#l00600">if()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00051">OpticalFlowLanding::igain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00060">OpticalFlowLanding::igain_adaptive</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00072">ind_hist</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00047">landing</a>, <a class="el" href="gps_8h_source.html#l00086">GpsState::lla_pos</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00047">OpticalFlowLanding::lp_factor</a>, <a class="el" href="paparazzi_8h_source.html#l00008">MAX_PPRZ</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00053">MINIMUM_GAIN</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00054">OpticalFlowLanding::nominal_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00040">normalized_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00123">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00071">past_divergence_history</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00050">OpticalFlowLanding::pgain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00059">OpticalFlowLanding::pgain_adaptive</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00046">previous_message_nr</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00062">previous_time</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00042">pstate</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00043">pused</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="stabilization_8c_source.html#l00028">stabilization_cmd</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00053">OpticalFlowLanding::sum_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00069">thrust_history</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00048">OpticalFlowLanding::vel</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00045">vision_message_nr</a>, and <a class="el" href="optical__flow__landing_8h_source.html#l00055">OpticalFlowLanding::VISION_METHOD</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00526">guidance_v_module_run()</a>.</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_cgraph" id="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_cgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#ac57755bb0d4696725a402004aabac907" title="Get the covariance of two arrays. " alt="" coords="251,5,323,32"/><area shape="rect" id="node4" href="stm32_2subsystems_2radio__control_2spektrum__arch_8c.html#a14a004ce07f47580a6800c76982ea599" title="if" alt="" coords="268,56,307,83"/><area shape="rect" id="node5" href="optical__flow__landing_8c.html#ab13dd8b6fd890c9ff29880b8ef767282" title="Reset all variables: " alt="" coords="232,107,343,133"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a163c737b124aa1ec4e930e6ab400ed03" title="Get the mean value of an array. " alt="" coords="391,5,517,32"/></map>
</div>
</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_icgraph" id="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_icgraph">
<area shape="rect" id="node2" href="vertical__ctrl__module__demo_8h.html#a24ef9289dfa15084a7457a97ad7632c8" title="guidance_v_module_run" alt="" coords="232,5,409,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a98ca665458be45c371807021104f2cdb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void vertical_ctrl_optical_flow_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>sender_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>stamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a>&#160;</td>
          <td class="paramname"><em>flow_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a>&#160;</td>
          <td class="paramname"><em>flow_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a>&#160;</td>
          <td class="paramname"><em>flow_der_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a>&#160;</td>
          <td class="paramname"><em>flow_der_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>quality</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>size_divergence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00483">483</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8c_source.html#l00038">divergence_vision</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00045">vision_message_nr</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a98ca665458be45c371807021104f2cdb_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a98ca665458be45c371807021104f2cdb_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a98ca665458be45c371807021104f2cdb_icgraph" id="optical__flow__landing_8c_a98ca665458be45c371807021104f2cdb_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e" title="Initialize the optical flow landing module. " alt="" coords="197,13,373,39"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e" title="guidance_v_module_init" alt="" coords="421,13,596,39"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="afa50262a1e494235831469694c69b177"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a> agl_ev</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The altitude ABI event. </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00115">115</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="af1eb4bb0fed2c8f7231d95df4e76de42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float cov_div</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00041">41</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00065">send_divergence()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a112848b37c86d125c062efba5439423b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float divergence</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00037">37</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00065">send_divergence()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a59ca2aeff4d163658a4e7e12a02dd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float divergence_vision</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00038">38</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00483">vertical_ctrl_optical_flow_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="a99432c0bee7e762ef48150e334024ac6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float divergence_vision_dt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00039">39</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00065">send_divergence()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a778e38aa889751afffa2dea6b803e67a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float dt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00044">44</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="ins__skeleton_8c_source.html#l00199">accel_cb()</a>, <a class="el" href="ahrs__int__cmpl__quat_8c_source.html#l00376">ahrs_icq_update_mag()</a>, <a class="el" href="ins__alt__float_8c_source.html#l00283">alt_kalman()</a>, <a class="el" href="pprz__algebra__float_8c_source.html#l00380">float_quat_integrate()</a>, <a class="el" href="pprz__algebra__float_8c_source.html#l00038">float_rates_integrate_fi()</a>, <a class="el" href="pprz__algebra__float_8c_source.html#l00030">float_vect3_integrate_fi()</a>, <a class="el" href="ins__skeleton_8c_source.html#l00214">gps_cb()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="ahrs__float__cmpl__wrapper_8c_source.html#l00139">gyro_cb()</a>, <a class="el" href="ins__alt__float_8c_source.html#l00165">ins_alt_float_update_baro()</a>, <a class="el" href="ins__alt__float_8c_source.html#l00210">ins_alt_float_update_gps()</a>, <a class="el" href="ahrs__float__cmpl__wrapper_8c_source.html#l00193">mag_cb()</a>, <a class="el" href="lpc21_2peripherals_2ms2100__arch_8c_source.html#l00071">ms2100_reset_cb()</a>, <a class="el" href="ms5611_8c_source.html#l00110">ms5607_calc()</a>, <a class="el" href="ms5611_8c_source.html#l00067">ms5611_calc()</a>, <a class="el" href="nps__atmosphere_8c_source.html#l00098">nps_atmosphere_update()</a>, <a class="el" href="nps__fdm__crrcsim_8c_source.html#l00119">nps_fdm_init()</a>, <a class="el" href="ahrs__float__mlkf_8c_source.html#l00188">propagate_state()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="stabilization__attitude__rc__setpoint_8c_source.html#l00164">stabilization_attitude_read_rc_setpoint_eulers()</a>, <a class="el" href="stabilization__attitude__rc__setpoint_8c_source.html#l00244">stabilization_attitude_read_rc_setpoint_eulers_f()</a>, <a class="el" href="stabilization__attitude__euler__float_8c_source.html#l00176">stabilization_attitude_run()</a>, <a class="el" href="tcas_8c_source.html#l00117">tcas_periodic_task_1Hz()</a>, <a class="el" href="ins__int_8c_source.html#l00513">vel_est_cb()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>, and <a class="el" href="vf__extended__float_8c_source.html#l00127">vff_propagate()</a>.</p>

</div>
</div>
<a class="anchor" id="a334c895aad5c1ccc1a7156e213928d79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int landing</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00047">47</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a22f278c7a6c8471f63e12eb324d7f021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float normalized_thrust</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00040">40</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00065">send_divergence()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4982b2ef527a9bb63dad1833b51849b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="optical__flow__landing_8h.html#structOpticalFlowLanding">OpticalFlowLanding</a> of_landing_ctrl</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00123">123</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00065">send_divergence()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00479">vertical_ctrl_agl_cb()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a141009974fbc44658bdd3334ff2e1d62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a> optical_flow_ev</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00116">116</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a1ded965fdb67e8374e03fbfff564ee79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float previous_cov_err</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00049">49</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa766d7f671bb51d97b848d91da3a9ca6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float previous_err</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00048">48</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ad53e39cff7af5873fdfb7cdcced57c4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int previous_message_nr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00046">46</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a49c3741cff55d60c09db5ed8f8b4976e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long previous_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00062">62</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="aad4e3c7c6d53e37efe585248474b4b38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pstate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00042">42</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00065">send_divergence()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a900b0336b231dbc0555dddc5e3331b46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pused</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00043">43</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00065">send_divergence()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a6d76c98461ee1cb608de91c3dec339f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vision_message_nr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00045">45</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00501">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00194">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00131">vertical_ctrl_module_init()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00224">vertical_ctrl_module_run()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00483">vertical_ctrl_optical_flow_cb()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_c2abcdd6ccb39c3582929c0e3f5651c2.html">modules</a></li><li class="navelem"><a class="el" href="dir_94757629c544be2d6d24b01569be56e6.html">ctrl</a></li><li class="navelem"><a class="el" href="optical__flow__landing_8c.html">optical_flow_landing.c</a></li>
    <li class="footer">Generated on Wed Dec 28 2016 10:02:03 for Paparazzi UAS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
