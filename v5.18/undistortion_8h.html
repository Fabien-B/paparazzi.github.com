<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Paparazzi UAS: sw/airborne/modules/computer_vision/lib/vision/undistortion.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v5.18.0_stable-1-g6993852-dirty</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('undistortion_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">undistortion.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions for undistorting camera images.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;std.h&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for undistortion.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h__incl.png" border="0" usemap="#sw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8h" alt=""/></div>
<map name="sw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8h" id="sw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8h">
</map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h__dep__incl.png" border="0" usemap="#sw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8hdep" alt=""/></div>
<map name="sw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8hdep" id="sw_2airborne_2modules_2computer__vision_2lib_2vision_2undistortion_8hdep">
</map>
</div>
</div>
<p><a href="undistortion_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8e2c52fb82e4e3ee37c424ce13d03c29"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a8e2c52fb82e4e3ee37c424ce13d03c29">Dhane_distortion</a> (float x_n, float y_n, float *x_nd, float *y_nd, float k)</td></tr>
<tr class="memdesc:a8e2c52fb82e4e3ee37c424ce13d03c29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Distort normalized image coordinates with the invertible Dhane method.  <a href="#a8e2c52fb82e4e3ee37c424ce13d03c29">More...</a><br /></td></tr>
<tr class="separator:a8e2c52fb82e4e3ee37c424ce13d03c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ad256378b5df58e5c0e61f3bddcbe2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a81ad256378b5df58e5c0e61f3bddcbe2">Dhane_undistortion</a> (float x_nd, float y_nd, float *x_n, float *y_n, float k)</td></tr>
<tr class="memdesc:a81ad256378b5df58e5c0e61f3bddcbe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undistort distorted normalized image coordinates with the invertible Dhane method.  <a href="#a81ad256378b5df58e5c0e61f3bddcbe2">More...</a><br /></td></tr>
<tr class="separator:a81ad256378b5df58e5c0e61f3bddcbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44a90a0656990482d07b3d8ac7928ea6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a44a90a0656990482d07b3d8ac7928ea6">normalized_to_pixels</a> (float x_n_, float y_n_, float *x_p, float *y_p, const float *<a class="el" href="undistort__image_8c.html#a29a532ec52354ee7571487245359a066">K</a>)</td></tr>
<tr class="memdesc:a44a90a0656990482d07b3d8ac7928ea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform normalized coordinates to pixel coordinates.  <a href="#a44a90a0656990482d07b3d8ac7928ea6">More...</a><br /></td></tr>
<tr class="separator:a44a90a0656990482d07b3d8ac7928ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd20e3c24af3ed0e37744adcbcd6fbc2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#abd20e3c24af3ed0e37744adcbcd6fbc2">pixels_to_normalized</a> (float x_p, float y_p, float *x_n_, float *y_n_, const float *<a class="el" href="undistort__image_8c.html#a29a532ec52354ee7571487245359a066">K</a>)</td></tr>
<tr class="memdesc:abd20e3c24af3ed0e37744adcbcd6fbc2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform pixel coordinates to normalized coordinates.  <a href="#abd20e3c24af3ed0e37744adcbcd6fbc2">More...</a><br /></td></tr>
<tr class="separator:abd20e3c24af3ed0e37744adcbcd6fbc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c56172dffbf789b4b5c164c08395740"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a2c56172dffbf789b4b5c164c08395740">distorted_pixels_to_normalized_coords</a> (float x_pd, float y_pd, float *x_n, float *y_n, float k, const float *<a class="el" href="undistort__image_8c.html#a29a532ec52354ee7571487245359a066">K</a>)</td></tr>
<tr class="memdesc:a2c56172dffbf789b4b5c164c08395740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform distorted pixel coordinates to normalized coordinates.  <a href="#a2c56172dffbf789b4b5c164c08395740">More...</a><br /></td></tr>
<tr class="separator:a2c56172dffbf789b4b5c164c08395740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8de5dc518fd2c56789b57c9561b190e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="undistortion_8h.html#a8de5dc518fd2c56789b57c9561b190e8">normalized_coords_to_distorted_pixels</a> (float x_n, float y_n, float *x_pd, float *y_pd, float k, const float *<a class="el" href="undistort__image_8c.html#a29a532ec52354ee7571487245359a066">K</a>)</td></tr>
<tr class="memdesc:a8de5dc518fd2c56789b57c9561b190e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform normalized coordinates to distorted pixel coordinates.  <a href="#a8de5dc518fd2c56789b57c9561b190e8">More...</a><br /></td></tr>
<tr class="separator:a8de5dc518fd2c56789b57c9561b190e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions for undistorting camera images. </p>
<p>The lenses of most cameras distort the image, in the sense that it does not represent a linear projection of points in the world. Specifically, straight lines in the world get curved in the image, as the lens compresses the data more and more towards the edges of the image.</p>
<p>Reading:</p><ol type="1">
<li><a href="https://docs.opencv.org/2.4/doc/tutorials/calib3d/camera_calibration/camera_calibration.html">https://docs.opencv.org/2.4/doc/tutorials/calib3d/camera_calibration/camera_calibration.html</a> (for normal cameras)</li>
<li><a href="https://docs.opencv.org/trunk/db/d58/group__calib3d__fisheye.html">https://docs.opencv.org/trunk/db/d58/group__calib3d__fisheye.html</a> (for fisheye cameras)</li>
<li>Dhane, P., Kutty, K., &amp; Bangadkar, S. (2012). A generic non-linear method for fisheye correction. International Journal of Computer Applications, 51(10). (invertible fisheye model)</li>
</ol>
<p>Some definitions:</p><ul>
<li>x_n, y_n: Normalized coordinates, i.e., with no distortion, with (0,0) the center of the image, and x_n = X / Z</li>
<li>x_nd, y_nd: Distorted normalized coordinates, i.e., with (0,0) the center of the image, but x_nd and y_nd are a nonlinear function of X/Z</li>
<li>x_n_, y_n_: Normalized coordinates, whether distorted or undistorted.</li>
<li>x_p, y_p: Pixel coordinates, with (0,0) the start of the image, and x_pd, y_pd in the range [0,width] and [0,height], respectively.</li>
<li>k: distortion parameters</li>
<li>K: camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </li>
</ul>

<p>Definition in file <a class="el" href="undistortion_8h_source.html">undistortion.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8e2c52fb82e4e3ee37c424ce13d03c29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dhane_distortion </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>x_nd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>y_nd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Distort normalized image coordinates with the invertible Dhane method. </p>
<p>This can be useful for undistorting an entire image. We assume f, the focal length, to be 1 here. That is why it is missing from the below formula. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>The single parameter of Dhane's model, typically found empirically by checking if straight lines in the world are straight in an undistorted image. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_nd</td><td>The distorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_nd</td><td>The distorted normalized y coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the distortion was successful </dd></dl>

<p>Definition at line <a class="el" href="undistortion_8c_source.html#l00057">57</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p>References <a class="el" href="wedgebug_8c_source.html#l00204">f</a>.</p>

<p>Referenced by <a class="el" href="undistortion_8c_source.html#l00146">normalized_coords_to_distorted_pixels()</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a8e2c52fb82e4e3ee37c424ce13d03c29_icgraph.png" border="0" usemap="#undistortion_8h_a8e2c52fb82e4e3ee37c424ce13d03c29_icgraph" alt=""/></div>
<map name="undistortion_8h_a8e2c52fb82e4e3ee37c424ce13d03c29_icgraph" id="undistortion_8h_a8e2c52fb82e4e3ee37c424ce13d03c29_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a81ad256378b5df58e5c0e61f3bddcbe2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Dhane_undistortion </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x_nd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y_nd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>x_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>y_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Undistort distorted normalized image coordinates with the invertible Dhane method. </p>
<p>We assume f, the focal length, to be 1 here. That is why it is missing from the below formula. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>The single parameter of Dhane's model, typically found empirically by checking if straight lines in the world are straight in an undistorted image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_nd</td><td>The distorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_nd</td><td>The distorted normalized y coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the distortion was successful </dd></dl>

<p>Definition at line <a class="el" href="undistortion_8c_source.html#l00076">76</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p>Referenced by <a class="el" href="undistortion_8c_source.html#l00128">distorted_pixels_to_normalized_coords()</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a81ad256378b5df58e5c0e61f3bddcbe2_icgraph.png" border="0" usemap="#undistortion_8h_a81ad256378b5df58e5c0e61f3bddcbe2_icgraph" alt=""/></div>
<map name="undistortion_8h_a81ad256378b5df58e5c0e61f3bddcbe2_icgraph" id="undistortion_8h_a81ad256378b5df58e5c0e61f3bddcbe2_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2c56172dffbf789b4b5c164c08395740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool distorted_pixels_to_normalized_coords </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x_pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y_pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>x_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>y_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>K</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform distorted pixel coordinates to normalized coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>The single parameter of Dhane's model, typically found empirically by checking if straight lines in the world are straight in an undistorted image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*K</td><td>The camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_pd</td><td>The distorted pixel x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_pd</td><td>The distorted pixel y coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the transformation was successful </dd></dl>

<p>Definition at line <a class="el" href="undistortion_8c_source.html#l00128">128</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p>References <a class="el" href="undistortion_8c_source.html#l00076">Dhane_undistortion()</a>, and <a class="el" href="undistortion_8c_source.html#l00113">pixels_to_normalized()</a>.</p>

<p>Referenced by <a class="el" href="PnP__AHRS_8c_source.html#l00054">get_world_position_from_image_points()</a>, and <a class="el" href="opticflow__calculator_8c_source.html#l00821">predict_flow_vectors()</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a2c56172dffbf789b4b5c164c08395740_cgraph.png" border="0" usemap="#undistortion_8h_a2c56172dffbf789b4b5c164c08395740_cgraph" alt=""/></div>
<map name="undistortion_8h_a2c56172dffbf789b4b5c164c08395740_cgraph" id="undistortion_8h_a2c56172dffbf789b4b5c164c08395740_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a2c56172dffbf789b4b5c164c08395740_icgraph.png" border="0" usemap="#undistortion_8h_a2c56172dffbf789b4b5c164c08395740_icgraph" alt=""/></div>
<map name="undistortion_8h_a2c56172dffbf789b4b5c164c08395740_icgraph" id="undistortion_8h_a2c56172dffbf789b4b5c164c08395740_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8de5dc518fd2c56789b57c9561b190e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool normalized_coords_to_distorted_pixels </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y_n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>x_pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>y_pd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>K</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform normalized coordinates to distorted pixel coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>The single parameter of Dhane's model, typically found empirically by checking if straight lines in the world are straight in an undistorted image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*K</td><td>The camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_pd</td><td>The distorted pixel x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_pd</td><td>The distorted pixel y coordinate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the transformation was successful </dd></dl>

<p>Definition at line <a class="el" href="undistortion_8c_source.html#l00146">146</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p>References <a class="el" href="undistortion_8c_source.html#l00057">Dhane_distortion()</a>, and <a class="el" href="undistortion_8c_source.html#l00100">normalized_to_pixels()</a>.</p>

<p>Referenced by <a class="el" href="opticflow__calculator_8c_source.html#l00821">predict_flow_vectors()</a>, and <a class="el" href="undistort__image_8c_source.html#l00046">undistort_image_func()</a>.</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_cgraph.png" border="0" usemap="#undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_cgraph" alt=""/></div>
<map name="undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_cgraph" id="undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_icgraph.png" border="0" usemap="#undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_icgraph" alt=""/></div>
<map name="undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_icgraph" id="undistortion_8h_a8de5dc518fd2c56789b57c9561b190e8_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a44a90a0656990482d07b3d8ac7928ea6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void normalized_to_pixels </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x_n_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y_n_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>x_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>y_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>K</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform normalized coordinates to pixel coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*K</td><td>The camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_p</td><td>The pixel x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_p</td><td>The pixel y coordinate </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="undistortion_8c_source.html#l00100">100</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p>Referenced by <a class="el" href="undistortion_8c_source.html#l00146">normalized_coords_to_distorted_pixels()</a>.</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_a44a90a0656990482d07b3d8ac7928ea6_icgraph.png" border="0" usemap="#undistortion_8h_a44a90a0656990482d07b3d8ac7928ea6_icgraph" alt=""/></div>
<map name="undistortion_8h_a44a90a0656990482d07b3d8ac7928ea6_icgraph" id="undistortion_8h_a44a90a0656990482d07b3d8ac7928ea6_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abd20e3c24af3ed0e37744adcbcd6fbc2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pixels_to_normalized </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>x_n_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>y_n_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float *&#160;</td>
          <td class="paramname"><em>K</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform pixel coordinates to normalized coordinates. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">*x_n</td><td>The undistorted normalized x coordinate </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*y_n</td><td>The undistorted normalized y coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*K</td><td>The camera calibration matrix, as a single array in row-major form, so K00, K01, K02, K10, K11, ... </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_p</td><td>The pixel x coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_p</td><td>The pixel y coordinate </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="undistortion_8c_source.html#l00113">113</a> of file <a class="el" href="undistortion_8c_source.html">undistortion.c</a>.</p>

<p>Referenced by <a class="el" href="undistortion_8c_source.html#l00128">distorted_pixels_to_normalized_coords()</a>.</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="undistortion_8h_abd20e3c24af3ed0e37744adcbcd6fbc2_icgraph.png" border="0" usemap="#undistortion_8h_abd20e3c24af3ed0e37744adcbcd6fbc2_icgraph" alt=""/></div>
<map name="undistortion_8h_abd20e3c24af3ed0e37744adcbcd6fbc2_icgraph" id="undistortion_8h_abd20e3c24af3ed0e37744adcbcd6fbc2_icgraph">
</map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_c2abcdd6ccb39c3582929c0e3f5651c2.html">modules</a></li><li class="navelem"><a class="el" href="dir_304e79c9f5d09ea65a2f55aafb6a6b9d.html">computer_vision</a></li><li class="navelem"><a class="el" href="dir_9adc125244b74c64b95124778e5b932a.html">lib</a></li><li class="navelem"><a class="el" href="dir_02b33bf6f772461f444923131a9a8dda.html">vision</a></li><li class="navelem"><a class="el" href="undistortion_8h.html">undistortion.h</a></li>
    <li class="footer">Generated on Fri May 7 2021 03:07:21 for Paparazzi UAS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
