<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Paparazzi UAS: nav_bungee_takeoff module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v5.18.0_stable</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('module__nav_bungee_takeoff.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">nav_bungee_takeoff module </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Takeoff functions for bungee takeoff.</b></p>
<p>Run initialize function when the plane is on the bungee, the bungee is fully extended and you are ready to launch the plane. After initialized, the plane will follow a line drawn by the position of the plane on initialization and the position of the bungee (given in the arguments). Once the plane crosses the throttle line, which is perpendicular to the line the plane is following, and intersects the position of the bungee (plus or minus a fixed distance (BUNGEE_TAKEOFF_DISTANCE in airframe file) from the bungee just in case the bungee doesn't release exactly above the bungee) the prop will come on. The plane will then continue to follow the line until it has reached a specific height (defined in as BUNGEE_TAKEOFF_HEIGHT in airframe file) above the bungee waypoint and airspeed (defined as BUNGEE_TAKEOFF_AIRSPEED in the airframe file). The airspeed limit is only used if USE_AIRSPEED flag is defined or set to true (and assuming the airspeed is then available). It is also possible to specify the pitch angle (BUNGEE_TAKEOFF_PITCH) and the throttle (BUNGEE_TAKEOFF_THROTTLE, between 0 and 1).</p>
<h1><a class="anchor" id="module_load_example__nav_bungee_takeoff"></a>
Example for airframe file</h1>
<p>Add to your firmware section: </p><div class="fragment"><div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;nav_bungee_takeoff&quot;</span>/&gt;</div>
</div><!-- fragment --> <h1><a class="anchor" id="configuration__nav_bungee_takeoff"></a>
Module configuration options</h1>
<h2><a class="anchor" id="af_section"></a>
Airframe file section</h2>
<ul>
<li><b>section</b> name: <code>BUNGEE</code> prefix: <code>BUNGEE_TAKEOFF_</code> <ul>
<li><b>name</b> <code>HEIGHT</code> <b>value:</b> <em>distance</em> <br  />
 Description: Takeoff height</li>
<li><b>name</b> <code>AIRSPEED</code> <b>value:</b> <em>airspeed</em> <br  />
 Description: Procedures ends above this airspeed (and above HEIGHT). Only works with valid airspeed data and USE_AIRSPEED flag</li>
<li><b>name</b> <code>DISTANCE</code> <b>value:</b> <em>distance</em> <br  />
 Description: After this distance, the throttle is activated (if above MIN_SPEED)</li>
<li><b>name</b> <code>MIN_SPEED</code> <b>value:</b> <em>speed</em> <br  />
 Description: Throttle is activated if crossing the line above this speed</li>
<li><b>name</b> <code>PITCH</code> <b>value:</b> <em>angle</em> <br  />
 Description: Pitch angle during the complete takeoff phase</li>
<li><b>name</b> <code>THROTTLE</code> <b>value:</b> <em>throttle</em> <br  />
 Description: Throttle setpoint (between 0 and 1) used after crossing the throttle line</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="files"></a>
Files</h1>
<h2><a class="anchor" id="headers"></a>
Header Files</h2>
<p>The following headers are automatically included in modules.h</p>
<ul>
<li><a class="el" href="nav__bungee__takeoff_8h.html">nav_bungee_takeoff.h</a></li>
</ul>
<h2><a class="anchor" id="sources"></a>
Source Files</h2>
<ul>
<li><a class="el" href="nav__bungee__takeoff_8c.html">modules/nav/nav_bungee_takeoff.c</a></li>
</ul>
<h2><a class="anchor" id="module_xml__nav_bungee_takeoff"></a>
Raw nav_bungee_takeoff.xml file:</h2>
<div class="fragment"><div class="line">&lt;!<span class="keyword">DOCTYPE</span> <span class="keyword">module</span> <span class="keyword">SYSTEM</span> <span class="stringliteral">&quot;module.dtd&quot;</span>&gt;</div>
<div class="line"> </div>
<div class="line">&lt;<span class="keywordtype">module</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;nav_bungee_takeoff&quot;</span> <span class="keyword">dir</span>=<span class="stringliteral">&quot;nav&quot;</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">doc</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">description</span>&gt;</div>
<div class="line">      <span class="keyword">Takeoff</span> <span class="keyword">functions</span> <span class="keyword">for</span> <span class="keyword">bungee</span> <span class="keyword">takeoff.</span></div>
<div class="line"> </div>
<div class="line">      <span class="keyword">Run</span> <span class="keyword">initialize</span> <span class="keyword">function</span> <span class="keyword">when</span> <span class="keyword">the</span> <span class="keyword">plane</span> <span class="keyword">is</span> <span class="keyword">on</span> <span class="keyword">the</span> <span class="keyword">bungee</span>, <span class="keyword">the</span> <span class="keyword">bungee</span> <span class="keyword">is</span> <span class="keyword">fully</span> <span class="keyword">extended</span> <span class="keyword">and</span> <span class="keyword">you</span> <span class="keyword">are</span> <span class="keyword">ready</span> <span class="keyword">to</span> <span class="keyword">launch</span> <span class="keyword">the</span> <span class="keyword">plane.</span></div>
<div class="line">      <span class="keyword">After</span> <span class="keyword">initialized</span>, <span class="keyword">the</span> <span class="keyword">plane</span> <span class="keyword">will</span> <span class="keyword">follow</span> <span class="keyword">a</span> <span class="keyword">line</span> <span class="keyword">drawn</span> <span class="keyword">by</span> <span class="keyword">the</span> <span class="keyword">position</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">plane</span> <span class="keyword">on</span> <span class="keyword">initialization</span> <span class="keyword">and</span> <span class="keyword">the</span>  <span class="keyword">position</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">bungee</span> (<span class="keyword">given</span> <span class="keyword">in</span> <span class="keyword">the</span> <span class="keyword">arguments</span>).</div>
<div class="line">      <span class="keyword">Once</span> <span class="keyword">the</span> <span class="keyword">plane</span> <span class="keyword">crosses</span> <span class="keyword">the</span> <span class="keyword">throttle</span> <span class="keyword">line</span>, <span class="keyword">which</span> <span class="keyword">is</span> <span class="keyword">perpendicular</span> <span class="keyword">to</span> <span class="keyword">the</span> <span class="keyword">line</span> <span class="keyword">the</span> <span class="keyword">plane</span> <span class="keyword">is</span> <span class="keyword">following</span>, <span class="keyword">and</span> <span class="keyword">intersects</span> <span class="keyword">the</span> <span class="keyword">position</span> <span class="keyword">of</span> <span class="keyword">the</span> <span class="keyword">bungee</span> (<span class="keyword">plus</span> <span class="keyword">or</span> <span class="keyword">minus</span> <span class="keyword">a</span> <span class="keyword">fixed</span> <span class="keyword">distance</span> (<span class="keyword">BUNGEE_TAKEOFF_DISTANCE</span> <span class="keyword">in</span> <span class="keyword">airframe</span> <span class="keyword">file</span>) <span class="keyword">from</span> <span class="keyword">the</span> <span class="keyword">bungee</span> <span class="keyword">just</span> <span class="keyword">in</span> <span class="keyword">case</span> <span class="keyword">the</span> <span class="keyword">bungee</span> <span class="keyword">doesn</span>&#39;<span class="keyword">t</span> <span class="keyword">release</span> <span class="keyword">exactly</span> <span class="keyword">above</span> <span class="keyword">the</span> <span class="keyword">bungee</span>) <span class="keyword">the</span> <span class="keyword">prop</span> <span class="keyword">will</span> <span class="keyword">come</span> <span class="keyword">on.</span></div>
<div class="line">      <span class="keyword">The</span> <span class="keyword">plane</span> <span class="keyword">will</span> <span class="keyword">then</span> <span class="keyword">continue</span> <span class="keyword">to</span> <span class="keyword">follow</span> <span class="keyword">the</span> <span class="keyword">line</span> <span class="keyword">until</span> <span class="keyword">it</span> <span class="keyword">has</span> <span class="keyword">reached</span> <span class="keyword">a</span> <span class="keyword">specific</span> <span class="keyword">height</span> (<span class="keyword">defined</span> <span class="keyword">in</span> <span class="keyword">as</span> <span class="keyword">BUNGEE_TAKEOFF_HEIGHT</span> <span class="keyword">in</span> <span class="keyword">airframe</span> <span class="keyword">file</span>) <span class="keyword">above</span> <span class="keyword">the</span> <span class="keyword">bungee</span> <span class="keyword">waypoint</span> <span class="keyword">and</span> <span class="keyword">airspeed</span> (<span class="keyword">defined</span> <span class="keyword">as</span> <span class="keyword">BUNGEE_TAKEOFF_AIRSPEED</span> <span class="keyword">in</span> <span class="keyword">the</span> <span class="keyword">airframe</span> <span class="keyword">file</span>). <span class="keyword">The</span> <span class="keyword">airspeed</span> <span class="keyword">limit</span> <span class="keyword">is</span> <span class="keyword">only</span> <span class="keyword">used</span> <span class="keyword">if</span> <span class="keyword">USE_AIRSPEED</span> <span class="keyword">flag</span> <span class="keyword">is</span> <span class="keyword">defined</span> <span class="keyword">or</span> <span class="keyword">set</span> <span class="keyword">to</span> <span class="keyword">true</span> (<span class="keyword">and</span> <span class="keyword">assuming</span> <span class="keyword">the</span> <span class="keyword">airspeed</span> <span class="keyword">is</span> <span class="keyword">then</span> <span class="keyword">available</span>). <span class="keyword">It</span> <span class="keyword">is</span> <span class="keyword">also</span> <span class="keyword">possible</span> <span class="keyword">to</span> <span class="keyword">specify</span> <span class="keyword">the</span> <span class="keyword">pitch</span> <span class="keyword">angle</span> (<span class="keyword">BUNGEE_TAKEOFF_PITCH</span>) <span class="keyword">and</span> <span class="keyword">the</span> <span class="keyword">throttle</span> (<span class="keyword">BUNGEE_TAKEOFF_THROTTLE</span>, <span class="keyword">between</span> 0 <span class="keyword">and</span> 1).</div>
<div class="line">    &lt;/<span class="keywordtype">description</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">section</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;BUNGEE&quot;</span> <span class="keyword">prefix</span>=<span class="stringliteral">&quot;BUNGEE_TAKEOFF_&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;HEIGHT&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;distance&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;m&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Takeoff height&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;AIRSPEED&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;airspeed&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;m/s&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Procedures ends above this airspeed (and above HEIGHT). Only works with valid airspeed data and USE_AIRSPEED flag&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;DISTANCE&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;distance&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;m&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;After this distance, the throttle is activated (if above MIN_SPEED)&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;MIN_SPEED&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;speed&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;m/s&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Throttle is activated if crossing the line above this speed&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;PITCH&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;angle&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;deg&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Pitch angle during the complete takeoff phase&quot;</span>/&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;THROTTLE&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;throttle&quot;</span> <span class="keyword">unit</span>=<span class="stringliteral">&quot;normalized&quot;</span> <span class="keyword">description</span>=<span class="stringliteral">&quot;Throttle setpoint (between 0 and 1) used after crossing the throttle line&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">section</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">doc</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">header</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">file</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;nav_bungee_takeoff.h&quot;</span>/&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">header</span>&gt;</div>
<div class="line">  &lt;<span class="keywordtype">makefile</span> <span class="keyword">target</span>=<span class="stringliteral">&quot;ap|sim|nps&quot;</span>&gt;</div>
<div class="line">    &lt;<span class="keywordtype">file</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;nav_bungee_takeoff.c&quot;</span>/&gt;</div>
<div class="line">    &lt;<span class="keywordtype">test</span> <span class="keyword">firmware</span>=<span class="stringliteral">&quot;fixedwing&quot;</span>&gt;</div>
<div class="line">      &lt;<span class="keywordtype">define</span> <span class="keyword">name</span>=<span class="stringliteral">&quot;CTRL_TYPE_H&quot;</span> <span class="keyword">value</span>=<span class="stringliteral">&quot;firmwares/fixedwing/guidance/guidance_v.h&quot;</span> <span class="keyword">type</span>=<span class="stringliteral">&quot;string&quot;</span>/&gt;</div>
<div class="line">    &lt;/<span class="keywordtype">test</span>&gt;</div>
<div class="line">  &lt;/<span class="keywordtype">makefile</span>&gt;</div>
<div class="line">&lt;/<span class="keywordtype">module</span>&gt;</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="onboard_modules.html">Onboard Modules</a></li>
    <li class="footer">Generated on Mon Jan 31 2022 16:45:34 for Paparazzi UAS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
