<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Paparazzi UAS: sw/airborne/arch/stm32/usb_ser_hw.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v5.8.2_stable-0-g6260b7c</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('stm32_2usb__ser__hw_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">usb_ser_hw.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>CDC USB device driver for STM32 architecture (STM32F1, STM32F4)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;libopencm3/stm32/rcc.h&gt;</code><br />
<code>#include &lt;libopencm3/stm32/gpio.h&gt;</code><br />
<code>#include &lt;libopencm3/cm3/nvic.h&gt;</code><br />
<code>#include &lt;libopencm3/cm3/systick.h&gt;</code><br />
<code>#include &lt;libopencm3/usb/usbd.h&gt;</code><br />
<code>#include &lt;libopencm3/usb/cdc.h&gt;</code><br />
<code>#include &lt;libopencm3/cm3/scb.h&gt;</code><br />
<code>#include &lt;libopencm3/stm32/desig.h&gt;</code><br />
<code>#include &quot;<a class="el" href="usb__serial_8h_source.html">mcu_periph/usb_serial.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for usb_ser_hw.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c__incl.png" border="0" usemap="#sw_2airborne_2arch_2stm32_2usb__ser__hw_8c" alt=""/></div>
<map name="sw_2airborne_2arch_2stm32_2usb__ser__hw_8c" id="sw_2airborne_2arch_2stm32_2usb__ser__hw_8c">
<area shape="rect" id="node11" href="usb__serial_8h.html" title="arch independent USB API " alt="" coords="1697,95,1875,121"/><area shape="rect" id="node12" href="inttypes_8h.html" title="inttypes.h" alt="" coords="1782,244,1867,271"/><area shape="rect" id="node14" href="link__device_8h.html" title="generic device header " alt="" coords="1837,169,2020,196"/></map>
</div>
</div>
<p><a href="stm32_2usb__ser__hw_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structfifo__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a></td></tr>
<tr class="separator:structfifo__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a879456c3b8e2853f7044d764e9c180d4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a879456c3b8e2853f7044d764e9c180d4">MAX_PACKET_SIZE</a>&#160;&#160;&#160;64</td></tr>
<tr class="separator:a879456c3b8e2853f7044d764e9c180d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7c58c5dba905e6348263134f6b4fbd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a8c7c58c5dba905e6348263134f6b4fbd">VCOM_FIFO_SIZE</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:a8c7c58c5dba905e6348263134f6b4fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1330c98d9b3b1ac7e86b04b86ec99548"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a1330c98d9b3b1ac7e86b04b86ec99548">fifo_init</a> (<a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *fifo, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *<a class="el" href="stm32_2mcu__periph_2adc__arch_8c.html#a48b4f0842338aeafa79aeab314f33696">buf</a>)</td></tr>
<tr class="separator:a1330c98d9b3b1ac7e86b04b86ec99548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f3fde520622dced80c7e266dd40f45"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a48f3fde520622dced80c7e266dd40f45">fifo_put</a> (<a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *fifo, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> c)</td></tr>
<tr class="separator:a48f3fde520622dced80c7e266dd40f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ed3893e7da35dc2372cafe7fd471dc"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a39ed3893e7da35dc2372cafe7fd471dc">fifo_get</a> (<a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *fifo, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *pc)</td></tr>
<tr class="separator:a39ed3893e7da35dc2372cafe7fd471dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ec031da793cb08aa5e3e3b5d551431"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a14ec031da793cb08aa5e3e3b5d551431">fifo_avail</a> (<a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *fifo)</td></tr>
<tr class="separator:a14ec031da793cb08aa5e3e3b5d551431"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd6ebb4b8039e06d214b227db30e3b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#adfd6ebb4b8039e06d214b227db30e3b2">fifo_free</a> (<a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *fifo)</td></tr>
<tr class="separator:adfd6ebb4b8039e06d214b227db30e3b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57b1e209da0ee69459b28fbd55cda72"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#ab57b1e209da0ee69459b28fbd55cda72">cdcacm_control_request</a> (usbd_device *usbd_dev, struct usb_setup_data *<a class="el" href="px4flow_8c.html#a11dd1089b4ce30528383cfa24a3c6c23">req</a>, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **<a class="el" href="stm32_2mcu__periph_2adc__arch_8c.html#a48b4f0842338aeafa79aeab314f33696">buf</a>, <a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *len, void(**complete)(usbd_device *usbd_dev, struct usb_setup_data *<a class="el" href="px4flow_8c.html#a11dd1089b4ce30528383cfa24a3c6c23">req</a>))</td></tr>
<tr class="memdesc:ab57b1e209da0ee69459b28fbd55cda72"><td class="mdescLeft">&#160;</td><td class="mdescRight">CDC device control request (from libopencm3 examples)  <a href="#ab57b1e209da0ee69459b28fbd55cda72">More...</a><br /></td></tr>
<tr class="separator:ab57b1e209da0ee69459b28fbd55cda72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b52c04437daf50f42cc4463688e8e0"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a92b52c04437daf50f42cc4463688e8e0">cdcacm_data_rx_cb</a> (usbd_device *usbd_dev, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> ep)</td></tr>
<tr class="memdesc:a92b52c04437daf50f42cc4463688e8e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">RX callback for CDC device (from libopencm3 examples)  <a href="#a92b52c04437daf50f42cc4463688e8e0">More...</a><br /></td></tr>
<tr class="separator:a92b52c04437daf50f42cc4463688e8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249c372d4216cf6de5a346625850ec63"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a249c372d4216cf6de5a346625850ec63">suspend_cb</a> (void)</td></tr>
<tr class="separator:a249c372d4216cf6de5a346625850ec63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6059acbec27d178fd89f46eac5538e7f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a6059acbec27d178fd89f46eac5538e7f">cdcacm_set_config</a> (usbd_device *usbd_dev, <a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> wValue)</td></tr>
<tr class="memdesc:a6059acbec27d178fd89f46eac5538e7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set configuration and control callbacks for CDC device (from libopencm3 examples)  <a href="#a6059acbec27d178fd89f46eac5538e7f">More...</a><br /></td></tr>
<tr class="separator:a6059acbec27d178fd89f46eac5538e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19a213d00cf249a4d4d60dbf1a9907d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a19a213d00cf249a4d4d60dbf1a9907d3">VCOM_putchar</a> (int c)</td></tr>
<tr class="memdesc:a19a213d00cf249a4d4d60dbf1a9907d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes one character to VCOM port fifo.  <a href="#a19a213d00cf249a4d4d60dbf1a9907d3">More...</a><br /></td></tr>
<tr class="separator:a19a213d00cf249a4d4d60dbf1a9907d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184633f63ad351d8e70857d9e5ba4a3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a184633f63ad351d8e70857d9e5ba4a3e">VCOM_getchar</a> (void)</td></tr>
<tr class="memdesc:a184633f63ad351d8e70857d9e5ba4a3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads one character from VCOM port.  <a href="#a184633f63ad351d8e70857d9e5ba4a3e">More...</a><br /></td></tr>
<tr class="separator:a184633f63ad351d8e70857d9e5ba4a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497f2c3bbcb2e24f2040db6881de17da"><td class="memItemLeft" align="right" valign="top">bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a497f2c3bbcb2e24f2040db6881de17da">VCOM_check_free_space</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> len)</td></tr>
<tr class="memdesc:a497f2c3bbcb2e24f2040db6881de17da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if buffer free in VCOM buffer.  <a href="#a497f2c3bbcb2e24f2040db6881de17da">More...</a><br /></td></tr>
<tr class="separator:a497f2c3bbcb2e24f2040db6881de17da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfafe558a6e594ce0638634e7cec7db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a4cfafe558a6e594ce0638634e7cec7db">VCOM_check_available</a> (void)</td></tr>
<tr class="memdesc:a4cfafe558a6e594ce0638634e7cec7db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if data available in VCOM buffer.  <a href="#a4cfafe558a6e594ce0638634e7cec7db">More...</a><br /></td></tr>
<tr class="separator:a4cfafe558a6e594ce0638634e7cec7db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15c895e4456578b3ca2818c1e17c832a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a15c895e4456578b3ca2818c1e17c832a">VCOM_event</a> (void)</td></tr>
<tr class="memdesc:a15c895e4456578b3ca2818c1e17c832a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll usb (required by libopencm3).  <a href="#a15c895e4456578b3ca2818c1e17c832a">More...</a><br /></td></tr>
<tr class="separator:a15c895e4456578b3ca2818c1e17c832a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad17c325b3e7623c13d24b25fc42fe3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#aad17c325b3e7623c13d24b25fc42fe3b">VCOM_send_message</a> (void)</td></tr>
<tr class="memdesc:aad17c325b3e7623c13d24b25fc42fe3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send data from fifo right now.  <a href="#aad17c325b3e7623c13d24b25fc42fe3b">More...</a><br /></td></tr>
<tr class="separator:aad17c325b3e7623c13d24b25fc42fe3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef19744b00fea002f00964cdbe5dd2fb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#aef19744b00fea002f00964cdbe5dd2fb">usb_serial_check_free_space</a> (struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> len)</td></tr>
<tr class="separator:aef19744b00fea002f00964cdbe5dd2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a577a2c6cc901732b01c63697768ccdb2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a577a2c6cc901732b01c63697768ccdb2">usb_serial_transmit</a> (struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>, <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> byte)</td></tr>
<tr class="separator:a577a2c6cc901732b01c63697768ccdb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad96b0bb142d9df1328a83ea2d16acc3d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#ad96b0bb142d9df1328a83ea2d16acc3d">usb_serial_send</a> (struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>)</td></tr>
<tr class="separator:ad96b0bb142d9df1328a83ea2d16acc3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa435f6235136b75de97d7efa7387d1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#adaa435f6235136b75de97d7efa7387d1">usb_serial_char_available</a> (struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>)</td></tr>
<tr class="separator:adaa435f6235136b75de97d7efa7387d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad20f86d5fa3af479482b8a7571d7953b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#ad20f86d5fa3af479482b8a7571d7953b">usb_serial_getch</a> (struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *<a class="el" href="ins__alt__float_8c.html#a9d3f100c4375da4d957dbe599d494905">p</a>)</td></tr>
<tr class="separator:ad20f86d5fa3af479482b8a7571d7953b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a54f28bfc8bc28963cd2fac74609cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd">VCOM_init</a> (void)</td></tr>
<tr class="separator:a96a54f28bfc8bc28963cd2fac74609cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a49eede323a902bbaf9ad4b4d02ecb009"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a49eede323a902bbaf9ad4b4d02ecb009">txdata</a> [<a class="el" href="stm32_2usb__ser__hw_8c.html#a8c7c58c5dba905e6348263134f6b4fbd">VCOM_FIFO_SIZE</a>]</td></tr>
<tr class="separator:a49eede323a902bbaf9ad4b4d02ecb009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90b28b942423439806a256e9eac0dea3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a90b28b942423439806a256e9eac0dea3">rxdata</a> [<a class="el" href="stm32_2usb__ser__hw_8c.html#a8c7c58c5dba905e6348263134f6b4fbd">VCOM_FIFO_SIZE</a>]</td></tr>
<tr class="separator:a90b28b942423439806a256e9eac0dea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12493139993bcd851cdfb44eb0abae57"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a12493139993bcd851cdfb44eb0abae57">txfifo</a></td></tr>
<tr class="separator:a12493139993bcd851cdfb44eb0abae57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5de2491cb8694adb40dfe18df1da27d8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a5de2491cb8694adb40dfe18df1da27d8">rxfifo</a></td></tr>
<tr class="separator:a5de2491cb8694adb40dfe18df1da27d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ec22b5ac8d4ccdf43b1939e46b9f28c"><td class="memItemLeft" align="right" valign="top">usbd_device *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a2ec22b5ac8d4ccdf43b1939e46b9f28c">my_usbd_dev</a></td></tr>
<tr class="separator:a2ec22b5ac8d4ccdf43b1939e46b9f28c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2dab4ea4560c93acc64b4418db49f84"><td class="memItemLeft" align="right" valign="top">static const struct <br class="typebreak" />
usb_device_descriptor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#af2dab4ea4560c93acc64b4418db49f84">dev</a></td></tr>
<tr class="separator:af2dab4ea4560c93acc64b4418db49f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ed29cdc7054ad27afaa5e2cbcb1ee52"><td class="memItemLeft" align="right" valign="top">static const struct <br class="typebreak" />
usb_endpoint_descriptor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a8ed29cdc7054ad27afaa5e2cbcb1ee52">comm_endp</a> []</td></tr>
<tr class="separator:a8ed29cdc7054ad27afaa5e2cbcb1ee52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5559799135a9696d72b5d9b3292ef645"><td class="memItemLeft" align="right" valign="top">static const struct <br class="typebreak" />
usb_endpoint_descriptor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a5559799135a9696d72b5d9b3292ef645">data_endp</a> []</td></tr>
<tr class="separator:a5559799135a9696d72b5d9b3292ef645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a468c5df10869b2b409dee5e242db353e"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:adcbc8c9cb1d7e7ebc49185be1bb03333"><td class="memItemLeft" align="right" valign="top">struct usb_cdc_header_descriptor&#160;</td><td class="memItemRight" valign="bottom"><b>header</b></td></tr>
<tr class="separator:adcbc8c9cb1d7e7ebc49185be1bb03333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a615b2779de3e6ebaf127448d573674d8"><td class="memItemLeft" align="right" valign="top">struct <br class="typebreak" />
usb_cdc_call_management_descriptor&#160;</td><td class="memItemRight" valign="bottom"><b>call_mgmt</b></td></tr>
<tr class="separator:a615b2779de3e6ebaf127448d573674d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21530045ccef5f0eafbd05f9e384d51d"><td class="memItemLeft" align="right" valign="top">struct usb_cdc_acm_descriptor&#160;</td><td class="memItemRight" valign="bottom"><b>acm</b></td></tr>
<tr class="separator:a21530045ccef5f0eafbd05f9e384d51d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc982732b49121d8dfa03f0d52f32036"><td class="memItemLeft" align="right" valign="top">struct usb_cdc_union_descriptor&#160;</td><td class="memItemRight" valign="bottom"><b>cdc_union</b></td></tr>
<tr class="separator:acc982732b49121d8dfa03f0d52f32036"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a468c5df10869b2b409dee5e242db353e"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a468c5df10869b2b409dee5e242db353e">cdcacm_functional_descriptors</a></td></tr>
<tr class="separator:a468c5df10869b2b409dee5e242db353e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5328a6344acb61e9eb9a2797b80d005"><td class="memItemLeft" align="right" valign="top">static const struct <br class="typebreak" />
usb_interface_descriptor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#af5328a6344acb61e9eb9a2797b80d005">comm_iface</a> []</td></tr>
<tr class="separator:af5328a6344acb61e9eb9a2797b80d005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74222982833c7cdeacdb3d9f9729b8f5"><td class="memItemLeft" align="right" valign="top">static const struct <br class="typebreak" />
usb_interface_descriptor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a74222982833c7cdeacdb3d9f9729b8f5">data_iface</a> []</td></tr>
<tr class="separator:a74222982833c7cdeacdb3d9f9729b8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0479d91765cee306c29db9e366752051"><td class="memItemLeft" align="right" valign="top">static const struct usb_interface&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a0479d91765cee306c29db9e366752051">ifaces</a> []</td></tr>
<tr class="separator:a0479d91765cee306c29db9e366752051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fece8dc710f4eaf00c3f026ab2e4ae"><td class="memItemLeft" align="right" valign="top">static const struct <br class="typebreak" />
usb_config_descriptor&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a79fece8dc710f4eaf00c3f026ab2e4ae">config</a></td></tr>
<tr class="separator:a79fece8dc710f4eaf00c3f026ab2e4ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f951c4a142701ffbb62709603a592b"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a44f951c4a142701ffbb62709603a592b">serial_no</a> [25]</td></tr>
<tr class="separator:a44f951c4a142701ffbb62709603a592b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af34cf0c102eb4cf7bc0df82cd25bf8ad"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#af34cf0c102eb4cf7bc0df82cd25bf8ad">usb_strings</a> []</td></tr>
<tr class="separator:af34cf0c102eb4cf7bc0df82cd25bf8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5c5e68ae07d989114524003357a6f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a3f5c5e68ae07d989114524003357a6f7">usbd_control_buffer</a> [128]</td></tr>
<tr class="separator:a3f5c5e68ae07d989114524003357a6f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08da6b1923b8590c2258c1a7a9c3c027"><td class="memItemLeft" align="right" valign="top">static bool_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#a08da6b1923b8590c2258c1a7a9c3c027">usb_connected</a></td></tr>
<tr class="separator:a08da6b1923b8590c2258c1a7a9c3c027"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac479b2dfa0b2c36002beb8033c0e3124"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stm32_2usb__ser__hw_8c.html#ac479b2dfa0b2c36002beb8033c0e3124">usb_serial</a></td></tr>
<tr class="separator:ac479b2dfa0b2c36002beb8033c0e3124"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CDC USB device driver for STM32 architecture (STM32F1, STM32F4) </p>

<p>Definition in file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structfifo__t" id="structfifo__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fifo_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock">
<p>Definition at line <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00090">90</a> of file <a class="el" href="lpc21_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="af6872113b054f3bed2382adf6919e4f5"></a><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *</td>
<td class="fieldname">
buf</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ae93028e986799fceacecbd153729f855"></a>int</td>
<td class="fieldname">
head</td>
<td class="fielddoc">
</td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="abe914ae9dd92644d8a53a4b99d89b487"></a>int</td>
<td class="fieldname">
tail</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a879456c3b8e2853f7044d764e9c180d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_PACKET_SIZE&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00044">44</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00271">cdcacm_data_rx_cb()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00298">cdcacm_set_config()</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00443">VCOM_send_message()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c7c58c5dba905e6348263134f6b4fbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VCOM_FIFO_SIZE&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00046">46</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00362">fifo_avail()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00368">fifo_free()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00344">fifo_get()</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00326">fifo_put()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab57b1e209da0ee69459b28fbd55cda72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cdcacm_control_request </td>
          <td>(</td>
          <td class="paramtype">usbd_device *&#160;</td>
          <td class="paramname"><em>usbd_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct usb_setup_data *&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> **&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(**)(usbd_device *usbd_dev, struct usb_setup_data *<a class="el" href="px4flow_8c.html#a11dd1089b4ce30528383cfa24a3c6c23">req</a>)&#160;</td>
          <td class="paramname"><em>complete</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CDC device control request (from libopencm3 examples) </p>

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00228">228</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00298">cdcacm_set_config()</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_ab57b1e209da0ee69459b28fbd55cda72_icgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_ab57b1e209da0ee69459b28fbd55cda72_icgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_ab57b1e209da0ee69459b28fbd55cda72_icgraph" id="stm32_2usb__ser__hw_8c_ab57b1e209da0ee69459b28fbd55cda72_icgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#a6059acbec27d178fd89f46eac5538e7f" title="Set configuration and control callbacks for CDC device (from libopencm3 examples) ..." alt="" coords="232,5,376,32"/><area shape="rect" id="node3" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title="VCOM_init" alt="" coords="424,5,511,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a92b52c04437daf50f42cc4463688e8e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cdcacm_data_rx_cb </td>
          <td>(</td>
          <td class="paramtype">usbd_device *&#160;</td>
          <td class="paramname"><em>usbd_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>ep</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>RX callback for CDC device (from libopencm3 examples) </p>

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00271">271</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00253">fifo_put()</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00044">MAX_PACKET_SIZE</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00298">cdcacm_set_config()</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a92b52c04437daf50f42cc4463688e8e0_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a92b52c04437daf50f42cc4463688e8e0_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a92b52c04437daf50f42cc4463688e8e0_cgraph" id="stm32_2usb__ser__hw_8c_a92b52c04437daf50f42cc4463688e8e0_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a60cebaa767a05f06a7b66c751c12318a" title="fifo_put" alt="" coords="203,5,272,32"/></map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a92b52c04437daf50f42cc4463688e8e0_icgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a92b52c04437daf50f42cc4463688e8e0_icgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a92b52c04437daf50f42cc4463688e8e0_icgraph" id="stm32_2usb__ser__hw_8c_a92b52c04437daf50f42cc4463688e8e0_icgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#a6059acbec27d178fd89f46eac5538e7f" title="Set configuration and control callbacks for CDC device (from libopencm3 examples) ..." alt="" coords="203,5,347,32"/><area shape="rect" id="node3" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title="VCOM_init" alt="" coords="395,5,481,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6059acbec27d178fd89f46eac5538e7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cdcacm_set_config </td>
          <td>(</td>
          <td class="paramtype">usbd_device *&#160;</td>
          <td class="paramname"><em>usbd_dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td>
          <td class="paramname"><em>wValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set configuration and control callbacks for CDC device (from libopencm3 examples) </p>

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00298">298</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00228">cdcacm_control_request()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00271">cdcacm_data_rx_cb()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00044">MAX_PACKET_SIZE</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00289">suspend_cb()</a>, and <a class="el" href="std_8h_source.html#l00004">TRUE</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a6059acbec27d178fd89f46eac5538e7f_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a6059acbec27d178fd89f46eac5538e7f_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a6059acbec27d178fd89f46eac5538e7f_cgraph" id="stm32_2usb__ser__hw_8c_a6059acbec27d178fd89f46eac5538e7f_cgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#ab57b1e209da0ee69459b28fbd55cda72" title="CDC device control request (from libopencm3 examples) " alt="" coords="197,5,376,32"/><area shape="rect" id="node3" href="stm32_2usb__ser__hw_8c.html#a92b52c04437daf50f42cc4463688e8e0" title="RX callback for CDC device (from libopencm3 examples) " alt="" coords="212,56,361,83"/><area shape="rect" id="node5" href="stm32_2usb__ser__hw_8c.html#a249c372d4216cf6de5a346625850ec63" title="suspend_cb" alt="" coords="237,107,336,133"/><area shape="rect" id="node4" href="lpc21_2usb__ser__hw_8c.html#a60cebaa767a05f06a7b66c751c12318a" title="fifo_put" alt="" coords="424,56,493,83"/></map>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a6059acbec27d178fd89f46eac5538e7f_icgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a6059acbec27d178fd89f46eac5538e7f_icgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a6059acbec27d178fd89f46eac5538e7f_icgraph" id="stm32_2usb__ser__hw_8c_a6059acbec27d178fd89f46eac5538e7f_icgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title="VCOM_init" alt="" coords="197,5,284,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14ec031da793cb08aa5e3e3b5d551431"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fifo_avail </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *&#160;</td>
          <td class="paramname"><em>fifo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00362">362</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00091">fifo_t::head</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00092">fifo_t::tail</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00046">VCOM_FIFO_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="adfd6ebb4b8039e06d214b227db30e3b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fifo_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *&#160;</td>
          <td class="paramname"><em>fifo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00368">368</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00287">fifo_avail()</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00046">VCOM_FIFO_SIZE</a>.</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_adfd6ebb4b8039e06d214b227db30e3b2_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_adfd6ebb4b8039e06d214b227db30e3b2_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_adfd6ebb4b8039e06d214b227db30e3b2_cgraph" id="stm32_2usb__ser__hw_8c_adfd6ebb4b8039e06d214b227db30e3b2_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a14ec031da793cb08aa5e3e3b5d551431" title="fifo_avail" alt="" coords="127,5,204,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a39ed3893e7da35dc2372cafe7fd471dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t fifo_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *&#160;</td>
          <td class="paramname"><em>fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>pc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00344">344</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00093">fifo_t::buf</a>, <a class="el" href="std_8h_source.html#l00005">FALSE</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00091">fifo_t::head</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00092">fifo_t::tail</a>, <a class="el" href="std_8h_source.html#l00004">TRUE</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00046">VCOM_FIFO_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="a1330c98d9b3b1ac7e86b04b86ec99548"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fifo_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *&#160;</td>
          <td class="paramname"><em>fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00317">317</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00093">fifo_t::buf</a>, <a class="el" href="stm32_2mcu__periph_2adc__arch_8c_source.html#l00587">buf</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00091">fifo_t::head</a>, and <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00092">fifo_t::tail</a>.</p>

</div>
</div>
<a class="anchor" id="a48f3fde520622dced80c7e266dd40f45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t fifo_put </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> *&#160;</td>
          <td class="paramname"><em>fifo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00326">326</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00093">fifo_t::buf</a>, <a class="el" href="std_8h_source.html#l00005">FALSE</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00091">fifo_t::head</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00092">fifo_t::tail</a>, <a class="el" href="std_8h_source.html#l00004">TRUE</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00046">VCOM_FIFO_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="a249c372d4216cf6de5a346625850ec63"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void suspend_cb </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00289">289</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="std_8h_source.html#l00005">FALSE</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00298">cdcacm_set_config()</a>.</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a249c372d4216cf6de5a346625850ec63_icgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a249c372d4216cf6de5a346625850ec63_icgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a249c372d4216cf6de5a346625850ec63_icgraph" id="stm32_2usb__ser__hw_8c_a249c372d4216cf6de5a346625850ec63_icgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#a6059acbec27d178fd89f46eac5538e7f" title="Set configuration and control callbacks for CDC device (from libopencm3 examples) ..." alt="" coords="152,5,296,32"/><area shape="rect" id="node3" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title="VCOM_init" alt="" coords="344,5,431,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adaa435f6235136b75de97d7efa7387d1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int usb_serial_char_available </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00489">489</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00420">VCOM_check_available()</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>.</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_adaa435f6235136b75de97d7efa7387d1_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_adaa435f6235136b75de97d7efa7387d1_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_adaa435f6235136b75de97d7efa7387d1_cgraph" id="stm32_2usb__ser__hw_8c_adaa435f6235136b75de97d7efa7387d1_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a4cfafe558a6e594ce0638634e7cec7db" title="Checks if data available in VCOM buffer. " alt="" coords="237,5,405,32"/></map>
</div>
</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_adaa435f6235136b75de97d7efa7387d1_icgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_adaa435f6235136b75de97d7efa7387d1_icgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_adaa435f6235136b75de97d7efa7387d1_icgraph" id="stm32_2usb__ser__hw_8c_adaa435f6235136b75de97d7efa7387d1_icgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title="VCOM_init" alt="" coords="237,5,324,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aef19744b00fea002f00964cdbe5dd2fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int usb_serial_check_free_space </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00473">473</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00409">VCOM_check_free_space()</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>.</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_aef19744b00fea002f00964cdbe5dd2fb_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_aef19744b00fea002f00964cdbe5dd2fb_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_aef19744b00fea002f00964cdbe5dd2fb_cgraph" id="stm32_2usb__ser__hw_8c_aef19744b00fea002f00964cdbe5dd2fb_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a497f2c3bbcb2e24f2040db6881de17da" title="Checks if buffer free in VCOM buffer. " alt="" coords="216,13,399,39"/></map>
</div>
</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_aef19744b00fea002f00964cdbe5dd2fb_icgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_aef19744b00fea002f00964cdbe5dd2fb_icgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_aef19744b00fea002f00964cdbe5dd2fb_icgraph" id="stm32_2usb__ser__hw_8c_aef19744b00fea002f00964cdbe5dd2fb_icgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title="VCOM_init" alt="" coords="216,13,303,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad20f86d5fa3af479482b8a7571d7953b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> usb_serial_getch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00494">494</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00386">VCOM_getchar()</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>.</p>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_ad20f86d5fa3af479482b8a7571d7953b_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_ad20f86d5fa3af479482b8a7571d7953b_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_ad20f86d5fa3af479482b8a7571d7953b_cgraph" id="stm32_2usb__ser__hw_8c_ad20f86d5fa3af479482b8a7571d7953b_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a184633f63ad351d8e70857d9e5ba4a3e" title="Reads one character from VCOM port. " alt="" coords="183,5,300,32"/></map>
</div>
</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_ad20f86d5fa3af479482b8a7571d7953b_icgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_ad20f86d5fa3af479482b8a7571d7953b_icgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_ad20f86d5fa3af479482b8a7571d7953b_icgraph" id="stm32_2usb__ser__hw_8c_ad20f86d5fa3af479482b8a7571d7953b_icgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title="VCOM_init" alt="" coords="183,5,269,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad96b0bb142d9df1328a83ea2d16acc3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usb_serial_send </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00484">484</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00566">VCOM_send_message()</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>.</p>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_ad96b0bb142d9df1328a83ea2d16acc3d_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_ad96b0bb142d9df1328a83ea2d16acc3d_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_ad96b0bb142d9df1328a83ea2d16acc3d_cgraph" id="stm32_2usb__ser__hw_8c_ad96b0bb142d9df1328a83ea2d16acc3d_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#aad17c325b3e7623c13d24b25fc42fe3b" title="VCOM_send_message" alt="" coords="177,5,343,32"/></map>
</div>
</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_ad96b0bb142d9df1328a83ea2d16acc3d_icgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_ad96b0bb142d9df1328a83ea2d16acc3d_icgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_ad96b0bb142d9df1328a83ea2d16acc3d_icgraph" id="stm32_2usb__ser__hw_8c_ad96b0bb142d9df1328a83ea2d16acc3d_icgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title="VCOM_init" alt="" coords="177,5,264,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a577a2c6cc901732b01c63697768ccdb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void usb_serial_transmit </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00479">479</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00376">VCOM_putchar()</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>.</p>

<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a577a2c6cc901732b01c63697768ccdb2_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a577a2c6cc901732b01c63697768ccdb2_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a577a2c6cc901732b01c63697768ccdb2_cgraph" id="stm32_2usb__ser__hw_8c_a577a2c6cc901732b01c63697768ccdb2_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a19a213d00cf249a4d4d60dbf1a9907d3" title="Writes one character to VCOM port. " alt="" coords="200,5,317,32"/></map>
</div>
</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a577a2c6cc901732b01c63697768ccdb2_icgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a577a2c6cc901732b01c63697768ccdb2_icgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a577a2c6cc901732b01c63697768ccdb2_icgraph" id="stm32_2usb__ser__hw_8c_a577a2c6cc901732b01c63697768ccdb2_icgraph">
<area shape="rect" id="node2" href="stm32_2usb__ser__hw_8c.html#a96a54f28bfc8bc28963cd2fac74609cd" title="VCOM_init" alt="" coords="200,5,287,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4cfafe558a6e594ce0638634e7cec7db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VCOM_check_available </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if data available in VCOM buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>nonzero if char is available in the queue, zero otherwise </dd></dl>

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00425">425</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00287">fifo_avail()</a>.</p>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a4cfafe558a6e594ce0638634e7cec7db_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a4cfafe558a6e594ce0638634e7cec7db_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a4cfafe558a6e594ce0638634e7cec7db_cgraph" id="stm32_2usb__ser__hw_8c_a4cfafe558a6e594ce0638634e7cec7db_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a14ec031da793cb08aa5e3e3b5d551431" title="fifo_avail" alt="" coords="221,5,299,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a497f2c3bbcb2e24f2040db6881de17da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool_t VCOM_check_free_space </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if buffer free in VCOM buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if len bytes are free </dd></dl>

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00416">416</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="std_8h_source.html#l00005">FALSE</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00292">fifo_free()</a>, and <a class="el" href="std_8h_source.html#l00004">TRUE</a>.</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a497f2c3bbcb2e24f2040db6881de17da_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a497f2c3bbcb2e24f2040db6881de17da_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a497f2c3bbcb2e24f2040db6881de17da_cgraph" id="stm32_2usb__ser__hw_8c_a497f2c3bbcb2e24f2040db6881de17da_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#adfd6ebb4b8039e06d214b227db30e3b2" title="fifo_free" alt="" coords="236,5,309,32"/><area shape="rect" id="node3" href="lpc21_2usb__ser__hw_8c.html#a14ec031da793cb08aa5e3e3b5d551431" title="fifo_avail" alt="" coords="357,5,435,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a15c895e4456578b3ca2818c1e17c832a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VCOM_event </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Poll usb (required by libopencm3). </p>
<p><a class="el" href="lpc21_2usb__ser__hw_8c.html#a15c895e4456578b3ca2818c1e17c832a">VCOM_event()</a> should be called from main/module event function </p>

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00434">434</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00067">my_usbd_dev</a>.</p>

</div>
</div>
<a class="anchor" id="a184633f63ad351d8e70857d9e5ba4a3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VCOM_getchar </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads one character from VCOM port. </p>
<dl class="section return"><dt>Returns</dt><dd>character read, or -1 if character could not be read </dd></dl>

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00404">404</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00070">BULK_OUT_EP</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00432">BulkOut()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00116">BulkOut_is_blocked</a>, <a class="el" href="armVIC_8c_source.html#l00033">disableIRQ()</a>, <a class="el" href="armVIC_8c_source.html#l00051">enableIRQ()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00087">EOF</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00292">fifo_free()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00270">fifo_get()</a>, and <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00073">MAX_PACKET_SIZE</a>.</p>

<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a184633f63ad351d8e70857d9e5ba4a3e_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a184633f63ad351d8e70857d9e5ba4a3e_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a184633f63ad351d8e70857d9e5ba4a3e_cgraph" id="stm32_2usb__ser__hw_8c_a184633f63ad351d8e70857d9e5ba4a3e_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a23baeb57e01ecb41d700cca080b35309" title="Local function to handle incoming bulk data. " alt="" coords="179,56,251,83"/><area shape="rect" id="node3" href="lpc21_2usb__ser__hw_8c.html#adfd6ebb4b8039e06d214b227db30e3b2" title="fifo_free" alt="" coords="315,5,389,32"/><area shape="rect" id="node6" href="armVIC_8c.html#a495b577a0ad5c4dc620339b2edff1ac5" title="disableIRQ" alt="" coords="171,157,259,184"/><area shape="rect" id="node9" href="armVIC_8c.html#adf9d98445ae51a2278cbe9e719f579f1" title="enableIRQ" alt="" coords="171,107,258,133"/><area shape="rect" id="node10" href="lpc21_2usb__ser__hw_8c.html#ae9e700bbf9ad6ed809b2879eeda18417" title="fifo_get" alt="" coords="180,208,249,235"/><area shape="rect" id="node5" href="lpc21_2usb__ser__hw_8c.html#a60cebaa767a05f06a7b66c751c12318a" title="fifo_put" alt="" coords="317,56,387,83"/><area shape="rect" id="node4" href="lpc21_2usb__ser__hw_8c.html#a14ec031da793cb08aa5e3e3b5d551431" title="fifo_avail" alt="" coords="445,5,523,32"/><area shape="rect" id="node7" href="armVIC_8c.html#a07a90dd2662e1a51c45600eccd2661c4" title="__get_cpsr" alt="" coords="307,107,397,133"/><area shape="rect" id="node8" href="armVIC_8c.html#a2695574f2b9c353bb88ce1239a0ab9ec" title="__set_cpsr" alt="" coords="307,157,397,184"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a96a54f28bfc8bc28963cd2fac74609cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VCOM_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">499</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="armVIC_8h_source.html#l00020">_VIC_ADDR</a>, <a class="el" href="armVIC_8h_source.html#l00019">_VIC_CNTL</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00108">abClassReqData</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00071">BULK_IN_EP</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00070">BULK_OUT_EP</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00461">BulkIn()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00432">BulkOut()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00298">cdcacm_set_config()</a>, <a class="el" href="link__device_8h_source.html#l00048">link_device::char_available</a>, <a class="el" href="link__device_8h_source.html#l00045">link_device::check_free_space</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00069">dev</a>, <a class="el" href="usb__serial_8h_source.html#l00037">usb_serial_periph::device</a>, <a class="el" href="std_8h_source.html#l00005">FALSE</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00246">fifo_init()</a>, <a class="el" href="link__device_8h_source.html#l00049">link_device::get_byte</a>, <a class="el" href="lpc21_2mcu__periph_2gpio__arch_8h_source.html#l00048">GPIO11</a>, <a class="el" href="lpc21_2mcu__periph_2gpio__arch_8h_source.html#l00049">GPIO12</a>, <a class="el" href="lpc21_2mcu__periph_2gpio__arch_8h_source.html#l00034">GPIOA</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00493">HandleClassRequest()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00069">INT_IN_EP</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00067">my_usbd_dev</a>, <a class="el" href="link__device_8h_source.html#l00050">link_device::periph</a>, <a class="el" href="link__device_8h_source.html#l00046">link_device::put_byte</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00111">rxdata</a>, <a class="el" href="link__device_8h_source.html#l00047">link_device::send_message</a>, <a class="el" href="std_8h_source.html#l00004">TRUE</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00110">txdata</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00547">usb_serial</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00568">usb_serial_char_available()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00550">usb_serial_check_free_space()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00573">usb_serial_getch()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00560">usb_serial_send()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00555">usb_serial_transmit()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00066">USB_VIC_SLOT</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00538">USBFrameHandler()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00531">USBIntHandler()</a>, <a class="el" href="lpcVIC_8h_source.html#l00105">VIC_BIT</a>, <a class="el" href="lpcVIC_8h_source.html#l00102">VIC_ENABLE</a>, <a class="el" href="lpcVIC_8h_source.html#l00092">VIC_USB</a>, <a class="el" href="LPC21xx_8h_source.html#l00431">VICIntEnable</a>, and <a class="el" href="LPC21xx_8h_source.html#l00430">VICIntSelect</a>.</p>

<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a96a54f28bfc8bc28963cd2fac74609cd_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a96a54f28bfc8bc28963cd2fac74609cd_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a96a54f28bfc8bc28963cd2fac74609cd_cgraph" id="stm32_2usb__ser__hw_8c_a96a54f28bfc8bc28963cd2fac74609cd_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a3bc9a7209871c1543612c00253c0d060" title="Local function to handle outgoing bulk data. " alt="" coords="202,35,262,62"/><area shape="rect" id="node5" href="lpc21_2usb__ser__hw_8c.html#a23baeb57e01ecb41d700cca080b35309" title="Local function to handle incoming bulk data. " alt="" coords="196,187,268,214"/><area shape="rect" id="node8" href="stm32_2usb__ser__hw_8c.html#a6059acbec27d178fd89f46eac5538e7f" title="Set configuration and control callbacks for CDC device (from libopencm3 examples) ..." alt="" coords="160,238,304,264"/><area shape="rect" id="node12" href="lpc21_2usb__ser__hw_8c.html#a62c1c3a993bb7e76089279dd5bf6e206" title="fifo_init" alt="" coords="199,288,265,315"/><area shape="rect" id="node13" href="lpc21_2usb__ser__hw_8c.html#a6c77a3470d979711809645830c55ea3a" title="Local function to handle the USB&#45;CDC class requests. " alt="" coords="156,339,308,366"/><area shape="rect" id="node14" href="lpc21_2usb__ser__hw_8c.html#adaa435f6235136b75de97d7efa7387d1" title="usb_serial_char_available" alt="" coords="140,390,324,416"/><area shape="rect" id="node16" href="lpc21_2usb__ser__hw_8c.html#aef19744b00fea002f00964cdbe5dd2fb" title="usb_serial_check_free\l_space" alt="" coords="151,441,313,482"/><area shape="rect" id="node18" href="lpc21_2usb__ser__hw_8c.html#ad20f86d5fa3af479482b8a7571d7953b" title="usb_serial_getch" alt="" coords="167,507,297,534"/><area shape="rect" id="node20" href="lpc21_2usb__ser__hw_8c.html#ad96b0bb142d9df1328a83ea2d16acc3d" title="usb_serial_send" alt="" coords="170,558,294,584"/><area shape="rect" id="node21" href="lpc21_2usb__ser__hw_8c.html#a577a2c6cc901732b01c63697768ccdb2" title="usb_serial_transmit" alt="" coords="159,608,305,635"/><area shape="rect" id="node23" href="lpc21_2usb__ser__hw_8c.html#a91556b7ca9fb44db13f40512a45c655d" title="USBFrameHandler" alt="" coords="393,86,533,112"/><area shape="rect" id="node24" href="lpc21_2usb__ser__hw_8c.html#ae891f923dd9e5e6d7630c5ffc64ce0ec" title="Interrupt handler. " alt="" coords="174,659,290,686"/><area shape="rect" id="node3" href="lpc21_2usb__ser__hw_8c.html#a14ec031da793cb08aa5e3e3b5d551431" title="fifo_avail" alt="" coords="603,86,680,112"/><area shape="rect" id="node4" href="lpc21_2usb__ser__hw_8c.html#ae9e700bbf9ad6ed809b2879eeda18417" title="fifo_get" alt="" coords="429,35,498,62"/><area shape="rect" id="node6" href="lpc21_2usb__ser__hw_8c.html#adfd6ebb4b8039e06d214b227db30e3b2" title="fifo_free" alt="" coords="427,136,500,163"/><area shape="rect" id="node7" href="lpc21_2usb__ser__hw_8c.html#a60cebaa767a05f06a7b66c751c12318a" title="fifo_put" alt="" coords="607,212,676,239"/><area shape="rect" id="node9" href="stm32_2usb__ser__hw_8c.html#ab57b1e209da0ee69459b28fbd55cda72" title="CDC device control request (from libopencm3 examples) " alt="" coords="374,288,553,315"/><area shape="rect" id="node10" href="stm32_2usb__ser__hw_8c.html#a92b52c04437daf50f42cc4463688e8e0" title="RX callback for CDC device (from libopencm3 examples) " alt="" coords="389,238,538,264"/><area shape="rect" id="node11" href="stm32_2usb__ser__hw_8c.html#a249c372d4216cf6de5a346625850ec63" title="suspend_cb" alt="" coords="414,339,513,366"/><area shape="rect" id="node15" href="lpc21_2usb__ser__hw_8c.html#a4cfafe558a6e594ce0638634e7cec7db" title="Checks if data available in VCOM buffer. " alt="" coords="379,390,547,416"/><area shape="rect" id="node17" href="lpc21_2usb__ser__hw_8c.html#a497f2c3bbcb2e24f2040db6881de17da" title="Checks if buffer free in VCOM buffer. " alt="" coords="372,448,555,475"/><area shape="rect" id="node19" href="lpc21_2usb__ser__hw_8c.html#a184633f63ad351d8e70857d9e5ba4a3e" title="Reads one character from VCOM port. " alt="" coords="405,507,522,534"/><area shape="rect" id="node22" href="lpc21_2usb__ser__hw_8c.html#a19a213d00cf249a4d4d60dbf1a9907d3" title="Writes one character to VCOM port. " alt="" coords="405,608,522,635"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a19a213d00cf249a4d4d60dbf1a9907d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int VCOM_putchar </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes one character to VCOM port fifo. </p>
<p>Writes one character to VCOM port.</p>
<p>Since we don't really have an instant feeedback from USB driver if the character was written, we always return c if we are connected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">c</td><td>character to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>character to be written, -1 if not usb is not connected </dd></dl>

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00383">383</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00087">EOF</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00253">fifo_put()</a>, <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00409">VCOM_check_free_space()</a>, and <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00566">VCOM_send_message()</a>.</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_a19a213d00cf249a4d4d60dbf1a9907d3_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_a19a213d00cf249a4d4d60dbf1a9907d3_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_a19a213d00cf249a4d4d60dbf1a9907d3_cgraph" id="stm32_2usb__ser__hw_8c_a19a213d00cf249a4d4d60dbf1a9907d3_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#a60cebaa767a05f06a7b66c751c12318a" title="fifo_put" alt="" coords="227,5,297,32"/><area shape="rect" id="node3" href="lpc21_2usb__ser__hw_8c.html#a497f2c3bbcb2e24f2040db6881de17da" title="Checks if buffer free in VCOM buffer. " alt="" coords="171,56,353,83"/><area shape="rect" id="node4" href="lpc21_2usb__ser__hw_8c.html#aad17c325b3e7623c13d24b25fc42fe3b" title="VCOM_send_message" alt="" coords="179,107,345,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aad17c325b3e7623c13d24b25fc42fe3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void VCOM_send_message </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send data from fifo right now. </p>
<p>Only if usb is connected. </p>

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00443">443</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>References <a class="el" href="lpc21_2usb__ser__hw_8c_source.html#l00270">fifo_get()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00044">MAX_PACKET_SIZE</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00067">my_usbd_dev</a>.</p>

<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="stm32_2usb__ser__hw_8c_aad17c325b3e7623c13d24b25fc42fe3b_cgraph.png" border="0" usemap="#stm32_2usb__ser__hw_8c_aad17c325b3e7623c13d24b25fc42fe3b_cgraph" alt=""/></div>
<map name="stm32_2usb__ser__hw_8c_aad17c325b3e7623c13d24b25fc42fe3b_cgraph" id="stm32_2usb__ser__hw_8c_aad17c325b3e7623c13d24b25fc42fe3b_cgraph">
<area shape="rect" id="node2" href="lpc21_2usb__ser__hw_8c.html#ae9e700bbf9ad6ed809b2879eeda18417" title="fifo_get" alt="" coords="219,5,288,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a468c5df10869b2b409dee5e242db353e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const { ... }    cdcacm_functional_descriptors</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .header = {</div>
<div class="line">    .bFunctionLength = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>usb_cdc_header_descriptor),</div>
<div class="line">    .bDescriptorType = <a class="code" href="lpc21_2usb__ser__hw_8c.html#a104f7f440633d5d270fba57dfa0666d0">CS_INTERFACE</a>,</div>
<div class="line">    .bDescriptorSubtype = USB_CDC_TYPE_HEADER,</div>
<div class="line">    .bcdCDC = 0x0110,</div>
<div class="line">  },</div>
<div class="line">  .call_mgmt = {</div>
<div class="line">    .bFunctionLength =</div>
<div class="line">    <span class="keyword">sizeof</span>(<span class="keyword">struct </span>usb_cdc_call_management_descriptor),</div>
<div class="line">    .bDescriptorType = <a class="code" href="lpc21_2usb__ser__hw_8c.html#a104f7f440633d5d270fba57dfa0666d0">CS_INTERFACE</a>,</div>
<div class="line">    .bDescriptorSubtype = USB_CDC_TYPE_CALL_MANAGEMENT,</div>
<div class="line">    .bmCapabilities = 0,</div>
<div class="line">    .bDataInterface = 1,</div>
<div class="line">  },</div>
<div class="line">  .acm = {</div>
<div class="line">    .bFunctionLength = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>usb_cdc_acm_descriptor),</div>
<div class="line">    .bDescriptorType = <a class="code" href="lpc21_2usb__ser__hw_8c.html#a104f7f440633d5d270fba57dfa0666d0">CS_INTERFACE</a>,</div>
<div class="line">    .bDescriptorSubtype = USB_CDC_TYPE_ACM,</div>
<div class="line">    .bmCapabilities = 0,</div>
<div class="line">  },</div>
<div class="line">  .cdc_union = {</div>
<div class="line">    .bFunctionLength = <span class="keyword">sizeof</span>(<span class="keyword">struct </span>usb_cdc_union_descriptor),</div>
<div class="line">    .bDescriptorType = <a class="code" href="lpc21_2usb__ser__hw_8c.html#a104f7f440633d5d270fba57dfa0666d0">CS_INTERFACE</a>,</div>
<div class="line">    .bDescriptorSubtype = USB_CDC_TYPE_UNION,</div>
<div class="line">    .bControlInterface = 0,</div>
<div class="line">    .bSubordinateInterface0 = 1,</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="lpc21_2usb__ser__hw_8c_html_a104f7f440633d5d270fba57dfa0666d0"><div class="ttname"><a href="lpc21_2usb__ser__hw_8c.html#a104f7f440633d5d270fba57dfa0666d0">CS_INTERFACE</a></div><div class="ttdeci">#define CS_INTERFACE</div><div class="ttdef"><b>Definition:</b> <a href="lpc21_2usb__ser__hw_8c_source.html#l00078">usb_ser_hw.c:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ed29cdc7054ad27afaa5e2cbcb1ee52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct usb_endpoint_descriptor comm_endp[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {{</div>
<div class="line">    .bLength = USB_DT_ENDPOINT_SIZE,</div>
<div class="line">    .bDescriptorType = USB_DT_ENDPOINT,</div>
<div class="line">    .bEndpointAddress = 0x83,</div>
<div class="line">    .bmAttributes = USB_ENDPOINT_ATTR_INTERRUPT,</div>
<div class="line">    .wMaxPacketSize = 16,</div>
<div class="line">    .bInterval = 255,</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00091">91</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="af5328a6344acb61e9eb9a2797b80d005"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct usb_interface_descriptor comm_iface[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {{</div>
<div class="line">    .bLength = USB_DT_INTERFACE_SIZE,</div>
<div class="line">    .bDescriptorType = USB_DT_INTERFACE,</div>
<div class="line">    .bInterfaceNumber = 0,</div>
<div class="line">    .bAlternateSetting = 0,</div>
<div class="line">    .bNumEndpoints = 1,</div>
<div class="line">    .bInterfaceClass = USB_CLASS_CDC,</div>
<div class="line">    .bInterfaceSubClass = USB_CDC_SUBCLASS_ACM,</div>
<div class="line">    .bInterfaceProtocol = USB_CDC_PROTOCOL_AT,</div>
<div class="line">    .iInterface = 0,</div>
<div class="line"></div>
<div class="line">    .endpoint = <a class="code" href="stm32_2usb__ser__hw_8c.html#a8ed29cdc7054ad27afaa5e2cbcb1ee52">comm_endp</a>,</div>
<div class="line"></div>
<div class="line">    .extra = &amp;<a class="code" href="stm32_2usb__ser__hw_8c.html#a468c5df10869b2b409dee5e242db353e">cdcacm_functional_descriptors</a>,</div>
<div class="line">    .extralen = <span class="keyword">sizeof</span>(<a class="code" href="stm32_2usb__ser__hw_8c.html#a468c5df10869b2b409dee5e242db353e">cdcacm_functional_descriptors</a>)</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="stm32_2usb__ser__hw_8c_html_a468c5df10869b2b409dee5e242db353e"><div class="ttname"><a href="stm32_2usb__ser__hw_8c.html#a468c5df10869b2b409dee5e242db353e">cdcacm_functional_descriptors</a></div><div class="ttdeci">static const struct @10 cdcacm_functional_descriptors</div></div>
<div class="ttc" id="stm32_2usb__ser__hw_8c_html_a8ed29cdc7054ad27afaa5e2cbcb1ee52"><div class="ttname"><a href="stm32_2usb__ser__hw_8c.html#a8ed29cdc7054ad27afaa5e2cbcb1ee52">comm_endp</a></div><div class="ttdeci">static const struct usb_endpoint_descriptor comm_endp[]</div><div class="ttdef"><b>Definition:</b> <a href="stm32_2usb__ser__hw_8c_source.html#l00091">usb_ser_hw.c:91</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00153">153</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a79fece8dc710f4eaf00c3f026ab2e4ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct usb_config_descriptor config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .bLength = USB_DT_CONFIGURATION_SIZE,</div>
<div class="line">  .bDescriptorType = USB_DT_CONFIGURATION,</div>
<div class="line">  .wTotalLength = 0,</div>
<div class="line">  .bNumInterfaces = 2,</div>
<div class="line">  .bConfigurationValue = 1,</div>
<div class="line">  .iConfiguration = 0,</div>
<div class="line">  .bmAttributes = 0x80,</div>
<div class="line">  .bMaxPower = 0x32,</div>
<div class="line"></div>
<div class="line">  .interface = <a class="code" href="stm32_2usb__ser__hw_8c.html#a0479d91765cee306c29db9e366752051">ifaces</a>,</div>
<div class="line">}</div>
<div class="ttc" id="stm32_2usb__ser__hw_8c_html_a0479d91765cee306c29db9e366752051"><div class="ttname"><a href="stm32_2usb__ser__hw_8c.html#a0479d91765cee306c29db9e366752051">ifaces</a></div><div class="ttdeci">static const struct usb_interface ifaces[]</div><div class="ttdef"><b>Definition:</b> <a href="stm32_2usb__ser__hw_8c_source.html#l00186">usb_ser_hw.c:186</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00195">195</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5559799135a9696d72b5d9b3292ef645"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct usb_endpoint_descriptor data_endp[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {{</div>
<div class="line">    .bLength = USB_DT_ENDPOINT_SIZE,</div>
<div class="line">    .bDescriptorType = USB_DT_ENDPOINT,</div>
<div class="line">    .bEndpointAddress = 0x01,</div>
<div class="line">    .bmAttributes = USB_ENDPOINT_ATTR_BULK,</div>
<div class="line">    .wMaxPacketSize = <a class="code" href="stm32_2usb__ser__hw_8c.html#a879456c3b8e2853f7044d764e9c180d4">MAX_PACKET_SIZE</a>,</div>
<div class="line">    .bInterval = 1,</div>
<div class="line">  }, {</div>
<div class="line">    .bLength = USB_DT_ENDPOINT_SIZE,</div>
<div class="line">    .bDescriptorType = USB_DT_ENDPOINT,</div>
<div class="line">    .bEndpointAddress = 0x82,</div>
<div class="line">    .bmAttributes = USB_ENDPOINT_ATTR_BULK,</div>
<div class="line">    .wMaxPacketSize = <a class="code" href="stm32_2usb__ser__hw_8c.html#a879456c3b8e2853f7044d764e9c180d4">MAX_PACKET_SIZE</a>,</div>
<div class="line">    .bInterval = 1,</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="stm32_2usb__ser__hw_8c_html_a879456c3b8e2853f7044d764e9c180d4"><div class="ttname"><a href="stm32_2usb__ser__hw_8c.html#a879456c3b8e2853f7044d764e9c180d4">MAX_PACKET_SIZE</a></div><div class="ttdeci">#define MAX_PACKET_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="stm32_2usb__ser__hw_8c_source.html#l00044">usb_ser_hw.c:44</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00101">101</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a74222982833c7cdeacdb3d9f9729b8f5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct usb_interface_descriptor data_iface[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {{</div>
<div class="line">    .bLength = USB_DT_INTERFACE_SIZE,</div>
<div class="line">    .bDescriptorType = USB_DT_INTERFACE,</div>
<div class="line">    .bInterfaceNumber = 1,</div>
<div class="line">    .bAlternateSetting = 0,</div>
<div class="line">    .bNumEndpoints = 2,</div>
<div class="line">    .bInterfaceClass = USB_CLASS_DATA,</div>
<div class="line">    .bInterfaceSubClass = 0,</div>
<div class="line">    .bInterfaceProtocol = 0,</div>
<div class="line">    .iInterface = 0,</div>
<div class="line"></div>
<div class="line">    .endpoint = <a class="code" href="stm32_2usb__ser__hw_8c.html#a5559799135a9696d72b5d9b3292ef645">data_endp</a>,</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="stm32_2usb__ser__hw_8c_html_a5559799135a9696d72b5d9b3292ef645"><div class="ttname"><a href="stm32_2usb__ser__hw_8c.html#a5559799135a9696d72b5d9b3292ef645">data_endp</a></div><div class="ttdeci">static const struct usb_endpoint_descriptor data_endp[]</div><div class="ttdef"><b>Definition:</b> <a href="stm32_2usb__ser__hw_8c_source.html#l00101">usb_ser_hw.c:101</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00171">171</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="af2dab4ea4560c93acc64b4418db49f84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct usb_device_descriptor dev</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .bLength = USB_DT_DEVICE_SIZE,</div>
<div class="line">  .bDescriptorType = USB_DT_DEVICE,</div>
<div class="line">  .bcdUSB = 0x0200,</div>
<div class="line">  .bDeviceClass = USB_CLASS_CDC,</div>
<div class="line">  .bDeviceSubClass = 0,</div>
<div class="line">  .bDeviceProtocol = 0,</div>
<div class="line">  .bMaxPacketSize0 = <a class="code" href="stm32_2usb__ser__hw_8c.html#a879456c3b8e2853f7044d764e9c180d4">MAX_PACKET_SIZE</a>,</div>
<div class="line">  .idVendor = 0x1d50, </div>
<div class="line">  .idProduct = 0x603d, </div>
<div class="line">  .bcdDevice = 0x0200,</div>
<div class="line">  .iManufacturer = 1,</div>
<div class="line">  .iProduct = 2,</div>
<div class="line">  .iSerialNumber = 3,</div>
<div class="line">  .bNumConfigurations = 1,</div>
<div class="line">}</div>
<div class="ttc" id="stm32_2usb__ser__hw_8c_html_a879456c3b8e2853f7044d764e9c180d4"><div class="ttname"><a href="stm32_2usb__ser__hw_8c.html#a879456c3b8e2853f7044d764e9c180d4">MAX_PACKET_SIZE</a></div><div class="ttdeci">#define MAX_PACKET_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="stm32_2usb__ser__hw_8c_source.html#l00044">usb_ser_hw.c:44</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00069">69</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>Referenced by <a class="el" href="gps__mtk_8h_source.html#l00072">GpsEvent()</a>, <a class="el" href="ins__module_8h_source.html#l00089">ins_event_check_and_handle()</a>, <a class="el" href="ahrs__chimu__spi_8c_source.html#l00100">parse_ins_msg()</a>, <a class="el" href="v4l2_8c_source.html#l00053">v4l2_capture_thread()</a>, <a class="el" href="v4l2_8c_source.html#l00177">v4l2_init()</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a0479d91765cee306c29db9e366752051"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const struct usb_interface ifaces[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {{</div>
<div class="line">    .num_altsetting = 1,</div>
<div class="line">    .altsetting = <a class="code" href="stm32_2usb__ser__hw_8c.html#af5328a6344acb61e9eb9a2797b80d005">comm_iface</a>,</div>
<div class="line">  }, {</div>
<div class="line">    .num_altsetting = 1,</div>
<div class="line">    .altsetting = <a class="code" href="stm32_2usb__ser__hw_8c.html#a74222982833c7cdeacdb3d9f9729b8f5">data_iface</a>,</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="stm32_2usb__ser__hw_8c_html_af5328a6344acb61e9eb9a2797b80d005"><div class="ttname"><a href="stm32_2usb__ser__hw_8c.html#af5328a6344acb61e9eb9a2797b80d005">comm_iface</a></div><div class="ttdeci">static const struct usb_interface_descriptor comm_iface[]</div><div class="ttdef"><b>Definition:</b> <a href="stm32_2usb__ser__hw_8c_source.html#l00153">usb_ser_hw.c:153</a></div></div>
<div class="ttc" id="stm32_2usb__ser__hw_8c_html_a74222982833c7cdeacdb3d9f9729b8f5"><div class="ttname"><a href="stm32_2usb__ser__hw_8c.html#a74222982833c7cdeacdb3d9f9729b8f5">data_iface</a></div><div class="ttdeci">static const struct usb_interface_descriptor data_iface[]</div><div class="ttdef"><b>Definition:</b> <a href="stm32_2usb__ser__hw_8c_source.html#l00171">usb_ser_hw.c:171</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00186">186</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a2ec22b5ac8d4ccdf43b1939e46b9f28c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">usbd_device* my_usbd_dev</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00067">67</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00434">VCOM_event()</a>, <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>, and <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00443">VCOM_send_message()</a>.</p>

</div>
</div>
<a class="anchor" id="a90b28b942423439806a256e9eac0dea3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> rxdata[<a class="el" href="stm32_2usb__ser__hw_8c.html#a8c7c58c5dba905e6348263134f6b4fbd">VCOM_FIFO_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00055">55</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a5de2491cb8694adb40dfe18df1da27d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> rxfifo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00058">58</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a44f951c4a142701ffbb62709603a592b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char serial_no[25]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00208">208</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a49eede323a902bbaf9ad4b4d02ecb009"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> txdata[<a class="el" href="stm32_2usb__ser__hw_8c.html#a8c7c58c5dba905e6348263134f6b4fbd">VCOM_FIFO_SIZE</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00054">54</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

<p>Referenced by <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00499">VCOM_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a12493139993bcd851cdfb44eb0abae57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stm32_2usb__ser__hw_8c.html#structfifo__t">fifo_t</a> txfifo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00057">57</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a08da6b1923b8590c2258c1a7a9c3c027"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool_t usb_connected</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00286">286</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac479b2dfa0b2c36002beb8033c0e3124"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="usb__serial_8h.html#structusb__serial__periph">usb_serial_periph</a> usb_serial</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00470">470</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="af34cf0c102eb4cf7bc0df82cd25bf8ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* usb_strings[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  <span class="stringliteral">&quot;Paparazzi UAV&quot;</span>,</div>
<div class="line">  <span class="stringliteral">&quot;CDC Serial STM32&quot;</span>,</div>
<div class="line">  <a class="code" href="stm32_2usb__ser__hw_8c.html#a44f951c4a142701ffbb62709603a592b">serial_no</a>,</div>
<div class="line">}</div>
<div class="ttc" id="stm32_2usb__ser__hw_8c_html_a44f951c4a142701ffbb62709603a592b"><div class="ttname"><a href="stm32_2usb__ser__hw_8c.html#a44f951c4a142701ffbb62709603a592b">serial_no</a></div><div class="ttdeci">static char serial_no[25]</div><div class="ttdef"><b>Definition:</b> <a href="stm32_2usb__ser__hw_8c_source.html#l00208">usb_ser_hw.c:208</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00211">211</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3f5c5e68ae07d989114524003357a6f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> usbd_control_buffer[128]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stm32_2usb__ser__hw_8c_source.html#l00222">222</a> of file <a class="el" href="stm32_2usb__ser__hw_8c_source.html">usb_ser_hw.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_fc6475eb39ea0144fb6697b809fd11a9.html">arch</a></li><li class="navelem"><a class="el" href="dir_ebfa5059daba0d85a68f1520147b1a51.html">stm32</a></li><li class="navelem"><a class="el" href="stm32_2usb__ser__hw_8c.html">usb_ser_hw.c</a></li>
    <li class="footer">Generated on Tue Jun 21 2016 14:01:32 for Paparazzi UAS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
