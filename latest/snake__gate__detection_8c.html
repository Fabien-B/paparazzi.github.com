<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Paparazzi UAS: sw/airborne/modules/computer_vision/snake_gate_detection.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v6.0_unstable-135-g1952e6d-dirty</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('snake__gate__detection_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">snake_gate_detection.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Detects gates as used in the IROS drone races, i.e., square colored gates.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="snake__gate__detection_8h_source.html">modules/computer_vision/snake_gate_detection.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;<a class="el" href="image_8h_source.html">modules/computer_vision/lib/vision/image.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="paparazzi_8h_source.html">paparazzi.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for snake_gate_detection.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c__incl.png" border="0" usemap="#sw_2airborne_2modules_2computer__vision_2snake__gate__detection_8c" alt=""/></div>
<map name="sw_2airborne_2modules_2computer__vision_2snake__gate__detection_8c" id="sw_2airborne_2modules_2computer__vision_2snake__gate__detection_8c">
</map>
</div>
</div>
<p><a href="snake__gate__detection_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a80623b87b2a8a4430c0bb894bb4c709c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a80623b87b2a8a4430c0bb894bb4c709c">SUCCESS_DETECT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a80623b87b2a8a4430c0bb894bb4c709c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52943a5b43fcf170e3267d9e4c9ed7c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#af52943a5b43fcf170e3267d9e4c9ed7c">FAIL_DETECT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:af52943a5b43fcf170e3267d9e4c9ed7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec050e729dddcfd57a9c70056412685"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a8ec050e729dddcfd57a9c70056412685">FILTER_IMAGE</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a8ec050e729dddcfd57a9c70056412685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acc9ea21261e7b2f89a66252e7d200e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a9acc9ea21261e7b2f89a66252e7d200e">DRAW_GATE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a9acc9ea21261e7b2f89a66252e7d200e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4ffbd7d116c633fda2c1957ca42cadb9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a4ffbd7d116c633fda2c1957ca42cadb9">cmpfunc</a> (const void *a, const void *<a class="el" href="wedgebug_8c.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>)</td></tr>
<tr class="separator:a4ffbd7d116c633fda2c1957ca42cadb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7afc1f7cb5bac6020745c11eee2fdb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a1f7afc1f7cb5bac6020745c11eee2fdb">cmp_i</a> (const void *a, const void *<a class="el" href="wedgebug_8c.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>)</td></tr>
<tr class="separator:a1f7afc1f7cb5bac6020745c11eee2fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95be7abc3abcecbe58309a065d099f87"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a95be7abc3abcecbe58309a065d099f87">segment_length</a> (struct <a class="el" href="image_8h.html#structpoint__t">point_t</a> Q1, struct <a class="el" href="image_8h.html#structpoint__t">point_t</a> Q2)</td></tr>
<tr class="memdesc:a95be7abc3abcecbe58309a065d099f87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the segment length between two 2D-points.  <a href="#a95be7abc3abcecbe58309a065d099f87">More...</a><br /></td></tr>
<tr class="separator:a95be7abc3abcecbe58309a065d099f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f4b4ad6fe02036ec21c3ad960c041bd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a6f4b4ad6fe02036ec21c3ad960c041bd">snake_gate_detection</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *img, int <a class="el" href="detect__gate_8h.html#a0aa1d80a7fddb8ff76eb4347b72d2b28">n_samples</a>, int <a class="el" href="detect__gate_8h.html#a72acbf501a780ec736457f12b13fe3e7">min_px_size</a>, float <a class="el" href="detect__gate_8h.html#aec9db33fc2a537911338a8d63b5d4848">min_gate_quality</a>, float <a class="el" href="detect__gate_8h.html#a3596ea51639ad76194d7479bc4b1c468">gate_thickness</a>, int <a class="el" href="detect__gate_8h.html#af6ee6091652da614d4acc6c9e559202d">min_n_sides</a>, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="detect__gate_8h.html#af7b642a27bf33f567a99c04f1c29959d">color_Ym</a>, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="detect__gate_8h.html#a75d1a6910ada1a7631089262ca6c043b">color_YM</a>, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="detect__gate_8h.html#a231e9845ab1ac427d0795addae86565f">color_Um</a>, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="detect__gate_8h.html#af4f0cfa1154072a5f43337c170ea94f3">color_UM</a>, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="detect__gate_8h.html#a4a3889ee09c7b4f03b90ab67c9d9220d">color_Vm</a>, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> <a class="el" href="detect__gate_8h.html#a652d90c6c205e914be17d2bd61b4f4ac">color_VM</a>, struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> *<a class="el" href="detect__gate_8h.html#a84fd633edd36fac317c81ecb8a2e0361">best_gate</a>, struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> *<a class="el" href="detect__gate_8c.html#a95bb79efe7abd3120aac95a961fbe08b">gates_c</a>, int *n_gates, int <a class="el" href="detect__gate_8h.html#ad6498d58fc8ce79a34c4e4f5bc544d90">exclude_top</a>, int <a class="el" href="detect__gate_8h.html#ae53e4d7c46dde5e5f8975c2e7c3cf868">exclude_bottom</a>)</td></tr>
<tr class="memdesc:a6f4b4ad6fe02036ec21c3ad960c041bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run snake gate detection on an image.  <a href="#a6f4b4ad6fe02036ec21c3ad960c041bd">More...</a><br /></td></tr>
<tr class="separator:a6f4b4ad6fe02036ec21c3ad960c041bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa74197068ad47804df4125b8601b31c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#afa74197068ad47804df4125b8601b31c">draw_gate</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> gate)</td></tr>
<tr class="memdesc:afa74197068ad47804df4125b8601b31c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the gate on an image.  <a href="#afa74197068ad47804df4125b8601b31c">More...</a><br /></td></tr>
<tr class="separator:afa74197068ad47804df4125b8601b31c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187099f3c8b15ddf2fc47461c89e13fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a187099f3c8b15ddf2fc47461c89e13fe">draw_gate_color_polygon</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> gate, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *color)</td></tr>
<tr class="memdesc:a187099f3c8b15ddf2fc47461c89e13fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the gate on an image, using the corner points, possibly resulting in a polygon.  <a href="#a187099f3c8b15ddf2fc47461c89e13fe">More...</a><br /></td></tr>
<tr class="separator:a187099f3c8b15ddf2fc47461c89e13fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c72cf9993935e358c258374c2a1857"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#ab8c72cf9993935e358c258374c2a1857">draw_gate_color_square</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> gate, <a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *color)</td></tr>
<tr class="memdesc:ab8c72cf9993935e358c258374c2a1857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the gate on an image, using only the center coordinate and sizes - resulting in a square gate.  <a href="#ab8c72cf9993935e358c258374c2a1857">More...</a><br /></td></tr>
<tr class="separator:ab8c72cf9993935e358c258374c2a1857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace002ac27557c54636e18910bbf442b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#ace002ac27557c54636e18910bbf442b8">check_gate_outline</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> gate, float *quality, int *n_sides)</td></tr>
<tr class="memdesc:ace002ac27557c54636e18910bbf442b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check only the outline of the gate.  <a href="#ace002ac27557c54636e18910bbf442b8">More...</a><br /></td></tr>
<tr class="separator:ace002ac27557c54636e18910bbf442b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864922da035b3c31db233b17ccc345d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a864922da035b3c31db233b17ccc345d8">check_gate_initial</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> gate, float *quality, int *n_sides)</td></tr>
<tr class="memdesc:a864922da035b3c31db233b17ccc345d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the outline and the center of the gate.  <a href="#a864922da035b3c31db233b17ccc345d8">More...</a><br /></td></tr>
<tr class="separator:a864922da035b3c31db233b17ccc345d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad427f2f71b35a1c9cfddeda6016eadbf"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#ad427f2f71b35a1c9cfddeda6016eadbf">check_inside</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, int x, int y, int sz, int n_samples_in)</td></tr>
<tr class="separator:ad427f2f71b35a1c9cfddeda6016eadbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc05622300f85dd1b71353c16923ca6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a4fc05622300f85dd1b71353c16923ca6">check_line</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, struct <a class="el" href="image_8h.html#structpoint__t">point_t</a> Q1, struct <a class="el" href="image_8h.html#structpoint__t">point_t</a> Q2, int *n_points, int *n_colored_points)</td></tr>
<tr class="memdesc:a4fc05622300f85dd1b71353c16923ca6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether points on a line between two 2D-points are of a given color.  <a href="#a4fc05622300f85dd1b71353c16923ca6">More...</a><br /></td></tr>
<tr class="separator:a4fc05622300f85dd1b71353c16923ca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ed4c7026af2f6090d0098ea9276559"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#ac1ed4c7026af2f6090d0098ea9276559">snake_up_and_down</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, int x, int y, int *x_low, int *y_low, int *x_high, int *y_high)</td></tr>
<tr class="memdesc:ac1ed4c7026af2f6090d0098ea9276559"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual snaking.  <a href="#ac1ed4c7026af2f6090d0098ea9276559">More...</a><br /></td></tr>
<tr class="separator:ac1ed4c7026af2f6090d0098ea9276559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef693c11bfcfa77faaaefba6304e4308"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#aef693c11bfcfa77faaaefba6304e4308">snake_left_and_right</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, int x, int y, int *x_low, int *y_low, int *x_high, int *y_high)</td></tr>
<tr class="memdesc:aef693c11bfcfa77faaaefba6304e4308"><td class="mdescLeft">&#160;</td><td class="mdescRight">The actual snaking.  <a href="#aef693c11bfcfa77faaaefba6304e4308">More...</a><br /></td></tr>
<tr class="separator:aef693c11bfcfa77faaaefba6304e4308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8a819264189a243f210db763c40d893"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#ae8a819264189a243f210db763c40d893">set_gate_points</a> (struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> *gate)</td></tr>
<tr class="memdesc:ae8a819264189a243f210db763c40d893"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine and set the corner locations in gate.x_corners, g.y_corners, based on the center of the gate and its size, assuming a square window.  <a href="#ae8a819264189a243f210db763c40d893">More...</a><br /></td></tr>
<tr class="separator:ae8a819264189a243f210db763c40d893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a3da4e9600e16e13b490769b3374ffa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a2a3da4e9600e16e13b490769b3374ffa">gate_refine_corners</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *color_image, int *x_points, int *y_points, int size)</td></tr>
<tr class="memdesc:a2a3da4e9600e16e13b490769b3374ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refine the four corners of the gate, based on the color around the supposed corner locations.  <a href="#a2a3da4e9600e16e13b490769b3374ffa">More...</a><br /></td></tr>
<tr class="separator:a2a3da4e9600e16e13b490769b3374ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af769b63bbec582d186cbe93175d6dc8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#af769b63bbec582d186cbe93175d6dc8c">refine_single_corner</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, int *corner_x, int *corner_y, int size, float size_factor)</td></tr>
<tr class="memdesc:af769b63bbec582d186cbe93175d6dc8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Refine a single corner, based on the color around the coordinate.  <a href="#af769b63bbec582d186cbe93175d6dc8c">More...</a><br /></td></tr>
<tr class="separator:af769b63bbec582d186cbe93175d6dc8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0981ce70dd28acd9b61fd0da4248798f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a0981ce70dd28acd9b61fd0da4248798f">check_color_snake_gate_detection</a> (struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *im, int x, int y)</td></tr>
<tr class="separator:a0981ce70dd28acd9b61fd0da4248798f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc98e80a4263c1220b508a0a3ca975a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#aebc98e80a4263c1220b508a0a3ca975a">intersection_over_union</a> (int x_box_1[4], int y_box_1[4], int x_box_2[4], int y_box_2[4])</td></tr>
<tr class="separator:aebc98e80a4263c1220b508a0a3ca975a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc48b4673a3131cf83a0d0692c95183"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a1dc48b4673a3131cf83a0d0692c95183">intersection_boxes</a> (int x_box_1[4], int y_box_1[4], int x_box_2[4], int y_box_2[4])</td></tr>
<tr class="separator:a1dc48b4673a3131cf83a0d0692c95183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f648ab707f85b8c8fdf5915a415beb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a12f648ab707f85b8c8fdf5915a415beb">overlap_intervals</a> (int val_low_1, int val_high_1, int val_low_2, int val_high_2)</td></tr>
<tr class="separator:a12f648ab707f85b8c8fdf5915a415beb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af1277b5afcda89127b598dbf4a266725"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#af1277b5afcda89127b598dbf4a266725">green_color</a> [4] = {255, 128, 255, 128}</td></tr>
<tr class="separator:af1277b5afcda89127b598dbf4a266725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0776567269795baa33da86545b9561b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a0776567269795baa33da86545b9561b1">blue_color</a> [4] = {0, 128, 0, 128}</td></tr>
<tr class="separator:a0776567269795baa33da86545b9561b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca756fd2f555959e02c0d4a6bc0a4a3e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#aca756fd2f555959e02c0d4a6bc0a4a3e">white_color</a> [4] = {255, 255, 255, 255}</td></tr>
<tr class="separator:aca756fd2f555959e02c0d4a6bc0a4a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579db38318e65b5f71517ec9de5e749d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a579db38318e65b5f71517ec9de5e749d">color_Y_min</a></td></tr>
<tr class="separator:a579db38318e65b5f71517ec9de5e749d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a705296aaf7b8f6e785debb166d907"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#af0a705296aaf7b8f6e785debb166d907">color_Y_max</a></td></tr>
<tr class="separator:af0a705296aaf7b8f6e785debb166d907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085553c5664fe346406680ca8b9c4676"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a085553c5664fe346406680ca8b9c4676">color_U_min</a></td></tr>
<tr class="separator:a085553c5664fe346406680ca8b9c4676"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af821bac5d8143c4f5e6cf3c4d4538e9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#af821bac5d8143c4f5e6cf3c4d4538e9c">color_U_max</a></td></tr>
<tr class="separator:af821bac5d8143c4f5e6cf3c4d4538e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b676c1bc0ae93fd3cf0a83e71a485c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a4b676c1bc0ae93fd3cf0a83e71a485c5">color_V_min</a></td></tr>
<tr class="separator:a4b676c1bc0ae93fd3cf0a83e71a485c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f430c2b23ed49640e85741cace3cca7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a8f430c2b23ed49640e85741cace3cca7">color_V_max</a></td></tr>
<tr class="separator:a8f430c2b23ed49640e85741cace3cca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7153b5e7598a025203aa5d9e14e14c10"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a7153b5e7598a025203aa5d9e14e14c10">min_pixel_size</a></td></tr>
<tr class="separator:a7153b5e7598a025203aa5d9e14e14c10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20bd59294d98b91a7f530ce43098814c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a20bd59294d98b91a7f530ce43098814c">n_total_samples</a></td></tr>
<tr class="separator:a20bd59294d98b91a7f530ce43098814c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a557e23d808a52633032263860c2e41ac"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a557e23d808a52633032263860c2e41ac">temp_check_gate</a></td></tr>
<tr class="separator:a557e23d808a52633032263860c2e41ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e27c9ea9d9281096fd4ae3dff59ebcd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="image_8h.html#structimage__t">image_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a2e27c9ea9d9281096fd4ae3dff59ebcd">img_result</a></td></tr>
<tr class="separator:a2e27c9ea9d9281096fd4ae3dff59ebcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c57ce6e2713cf42378f4509e80faef1"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a7c57ce6e2713cf42378f4509e80faef1">best_quality</a> = 0</td></tr>
<tr class="separator:a7c57ce6e2713cf42378f4509e80faef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7e3319e85fd12b99f5c03652b46333"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a2a7e3319e85fd12b99f5c03652b46333">best_fitness</a> = 100000</td></tr>
<tr class="separator:a2a7e3319e85fd12b99f5c03652b46333"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0483d856b36b358ff3b62e6a3c6f95f1"><td class="memItemLeft" align="right" valign="top">int *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="snake__gate__detection_8c.html#a0483d856b36b358ff3b62e6a3c6f95f1">array</a></td></tr>
<tr class="separator:a0483d856b36b358ff3b62e6a3c6f95f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Detects gates as used in the IROS drone races, i.e., square colored gates. </p>
<p>It does so with snake gate detection, a computationally efficient method that works onboard of the computationally constrained Parrot Bebop 1/2 drones.</p>
<p>An initial version of this algorithm ran in the drone race 2016. The algorithm was first described in: First autonomous multi-room exploration with an insect-inspired flapping wing vehicle, May 2018, IEEE International Conference on Robotics and Automation (ICRA 2018), Brisbane, Australia by Kirk Scheper, Matej Karasek, Christophe De Wagter, Bart Remes, and Guido de Croon <a href="https://www.researchgate.net/publication/327228053_First_autonomous_multi-room_exploration_with_an_insect-inspired_flapping_wing_vehicle">https://www.researchgate.net/publication/327228053_First_autonomous_multi-room_exploration_with_an_insect-inspired_flapping_wing_vehicle</a></p>
<p>For the drone race, the algorithm and performance are described and analyzed in more detail in: Autonomous drone race: A novel vision-based navigation and control strategy, S.Li, M.M.O.I. Ozo, C. De Wagter, G.C.H.E. de Croon. Submitted. </p>

<p>Definition in file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a9acc9ea21261e7b2f89a66252e7d200e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DRAW_GATE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00057">57</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="af52943a5b43fcf170e3267d9e4c9ed7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAIL_DETECT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00053">53</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a8ec050e729dddcfd57a9c70056412685"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILTER_IMAGE&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00056">56</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a80623b87b2a8a4430c0bb894bb4c709c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SUCCESS_DETECT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00052">52</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0981ce70dd28acd9b61fd0da4248798f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int check_color_snake_gate_detection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l01102">1102</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="image_8c_source.html#l00230">check_color_yuv422()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00068">color_U_max</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00067">color_U_min</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00070">color_V_max</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00069">color_V_min</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00066">color_Y_max</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00065">color_Y_min</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00077">n_total_samples</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00761">check_inside()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00818">check_line()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l01013">refine_single_corner()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00919">snake_left_and_right()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00859">snake_up_and_down()</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a0981ce70dd28acd9b61fd0da4248798f_cgraph.png" border="0" usemap="#snake__gate__detection_8c_a0981ce70dd28acd9b61fd0da4248798f_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a0981ce70dd28acd9b61fd0da4248798f_cgraph" id="snake__gate__detection_8c_a0981ce70dd28acd9b61fd0da4248798f_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a0981ce70dd28acd9b61fd0da4248798f_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a0981ce70dd28acd9b61fd0da4248798f_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a0981ce70dd28acd9b61fd0da4248798f_icgraph" id="snake__gate__detection_8c_a0981ce70dd28acd9b61fd0da4248798f_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a864922da035b3c31db233b17ccc345d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_gate_initial </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a>&#160;</td>
          <td class="paramname"><em>gate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>quality</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n_sides</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check the outline and the center of the gate. </p>
<p>The outline should be of the right color. The inner part should be a different color, or else we may be looking at a distractor object. The gate does not yet have to have corners assigned in the struct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">im</td><td>The input image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gate</td><td>The gate to be checked. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">quality</td><td>The ratio of rightly colored pixels, 1.0 is best, 0.0 is worst. If too many pixels inside the gate are of the right color, the quality is also 0. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sides</td><td>How many of the sides are sufficiently colored? </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00673">673</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l00761">check_inside()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00818">check_line()</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00055">gate_img::sz</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00058">gate_img::sz_left</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00059">gate_img::sz_right</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00051">gate_img::x</a>, <a class="el" href="image_8h_source.html#l00059">point_t::x</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00052">gate_img::y</a>, and <a class="el" href="image_8h_source.html#l00060">point_t::y</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a864922da035b3c31db233b17ccc345d8_cgraph.png" border="0" usemap="#snake__gate__detection_8c_a864922da035b3c31db233b17ccc345d8_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a864922da035b3c31db233b17ccc345d8_cgraph" id="snake__gate__detection_8c_a864922da035b3c31db233b17ccc345d8_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a864922da035b3c31db233b17ccc345d8_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a864922da035b3c31db233b17ccc345d8_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a864922da035b3c31db233b17ccc345d8_icgraph" id="snake__gate__detection_8c_a864922da035b3c31db233b17ccc345d8_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace002ac27557c54636e18910bbf442b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_gate_outline </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a>&#160;</td>
          <td class="paramname"><em>gate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>quality</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n_sides</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check only the outline of the gate. </p>
<p>The gate must have corners already assigned in the struct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">im</td><td>The input image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gate</td><td>The gate to be checked. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">quality</td><td>The ratio of rightly colored pixels, 1.0 is best, 0.0 is worst. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sides</td><td>How many of the sides are sufficiently colored? </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00581">581</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l00761">check_inside()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00818">check_line()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00073">min_pixel_size</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00802">segment_length()</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00055">gate_img::sz</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00051">gate_img::x</a>, <a class="el" href="image_8h_source.html#l00059">point_t::x</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00053">gate_img::x_corners</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00052">gate_img::y</a>, <a class="el" href="image_8h_source.html#l00060">point_t::y</a>, and <a class="el" href="snake__gate__detection_8h_source.html#l00054">gate_img::y_corners</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_ace002ac27557c54636e18910bbf442b8_cgraph.png" border="0" usemap="#snake__gate__detection_8c_ace002ac27557c54636e18910bbf442b8_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_ace002ac27557c54636e18910bbf442b8_cgraph" id="snake__gate__detection_8c_ace002ac27557c54636e18910bbf442b8_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_ace002ac27557c54636e18910bbf442b8_icgraph.png" border="0" usemap="#snake__gate__detection_8c_ace002ac27557c54636e18910bbf442b8_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_ace002ac27557c54636e18910bbf442b8_icgraph" id="snake__gate__detection_8c_ace002ac27557c54636e18910bbf442b8_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad427f2f71b35a1c9cfddeda6016eadbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float check_inside </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_samples_in</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00761">761</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, <a class="el" href="UKF__Wind__Estimator_8c_source.html#l00821">h()</a>, and <a class="el" href="detect__gate_8c_source.html#l00085">n_samples</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00673">check_gate_initial()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00581">check_gate_outline()</a>.</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_ad427f2f71b35a1c9cfddeda6016eadbf_cgraph.png" border="0" usemap="#snake__gate__detection_8c_ad427f2f71b35a1c9cfddeda6016eadbf_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_ad427f2f71b35a1c9cfddeda6016eadbf_cgraph" id="snake__gate__detection_8c_ad427f2f71b35a1c9cfddeda6016eadbf_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_ad427f2f71b35a1c9cfddeda6016eadbf_icgraph.png" border="0" usemap="#snake__gate__detection_8c_ad427f2f71b35a1c9cfddeda6016eadbf_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_ad427f2f71b35a1c9cfddeda6016eadbf_icgraph" id="snake__gate__detection_8c_ad427f2f71b35a1c9cfddeda6016eadbf_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4fc05622300f85dd1b71353c16923ca6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_line </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structpoint__t">point_t</a>&#160;</td>
          <td class="paramname"><em>Q1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structpoint__t">point_t</a>&#160;</td>
          <td class="paramname"><em>Q2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n_colored_points</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether points on a line between two 2D-points are of a given color. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">im</td><td>The input image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Q1</td><td>Point 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Q2</td><td>Point 2. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_points</td><td>The number of sampled points. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_colored_points</td><td>The number of sampled points that were of the right color. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00818">818</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, <a class="el" href="wedgebug_8c_source.html#l00204">f</a>, <a class="el" href="UKF__Wind__Estimator_8c_source.html#l00821">h()</a>, <a class="el" href="image_8h_source.html#l00059">point_t::x</a>, and <a class="el" href="image_8h_source.html#l00060">point_t::y</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00673">check_gate_initial()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00581">check_gate_outline()</a>.</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a4fc05622300f85dd1b71353c16923ca6_cgraph.png" border="0" usemap="#snake__gate__detection_8c_a4fc05622300f85dd1b71353c16923ca6_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a4fc05622300f85dd1b71353c16923ca6_cgraph" id="snake__gate__detection_8c_a4fc05622300f85dd1b71353c16923ca6_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a4fc05622300f85dd1b71353c16923ca6_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a4fc05622300f85dd1b71353c16923ca6_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a4fc05622300f85dd1b71353c16923ca6_icgraph" id="snake__gate__detection_8c_a4fc05622300f85dd1b71353c16923ca6_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f7afc1f7cb5bac6020745c11eee2fdb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmp_i </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00096">96</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l00094">array</a>.</p>

</div>
</div>
<a class="anchor" id="a4ffbd7d116c633fda2c1957ca42cadb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cmpfunc </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00090">90</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a4ffbd7d116c633fda2c1957ca42cadb9_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a4ffbd7d116c633fda2c1957ca42cadb9_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a4ffbd7d116c633fda2c1957ca42cadb9_icgraph" id="snake__gate__detection_8c_a4ffbd7d116c633fda2c1957ca42cadb9_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afa74197068ad47804df4125b8601b31c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_gate </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a>&#160;</td>
          <td class="paramname"><em>gate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the gate on an image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>The output image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gate</td><td>The gate to be drawn. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00478">478</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l00491">draw_gate_color_polygon()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00062">white_color</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_afa74197068ad47804df4125b8601b31c_cgraph.png" border="0" usemap="#snake__gate__detection_8c_afa74197068ad47804df4125b8601b31c_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_afa74197068ad47804df4125b8601b31c_cgraph" id="snake__gate__detection_8c_afa74197068ad47804df4125b8601b31c_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_afa74197068ad47804df4125b8601b31c_icgraph.png" border="0" usemap="#snake__gate__detection_8c_afa74197068ad47804df4125b8601b31c_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_afa74197068ad47804df4125b8601b31c_icgraph" id="snake__gate__detection_8c_afa74197068ad47804df4125b8601b31c_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a187099f3c8b15ddf2fc47461c89e13fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_gate_color_polygon </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a>&#160;</td>
          <td class="paramname"><em>gate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the gate on an image, using the corner points, possibly resulting in a polygon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>The output image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gate</td><td>The gate to be drawn. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color</td><td>The color of the lines, in UYVY format. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00491">491</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="image_8c_source.html#l00880">image_draw_crosshair()</a>, <a class="el" href="image_8c_source.html#l00921">image_draw_line_color()</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00051">gate_img::x</a>, <a class="el" href="image_8h_source.html#l00059">point_t::x</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00053">gate_img::x_corners</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00052">gate_img::y</a>, <a class="el" href="image_8h_source.html#l00060">point_t::y</a>, and <a class="el" href="snake__gate__detection_8h_source.html#l00054">gate_img::y_corners</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00478">draw_gate()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l01013">refine_single_corner()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a187099f3c8b15ddf2fc47461c89e13fe_cgraph.png" border="0" usemap="#snake__gate__detection_8c_a187099f3c8b15ddf2fc47461c89e13fe_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a187099f3c8b15ddf2fc47461c89e13fe_cgraph" id="snake__gate__detection_8c_a187099f3c8b15ddf2fc47461c89e13fe_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a187099f3c8b15ddf2fc47461c89e13fe_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a187099f3c8b15ddf2fc47461c89e13fe_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a187099f3c8b15ddf2fc47461c89e13fe_icgraph" id="snake__gate__detection_8c_a187099f3c8b15ddf2fc47461c89e13fe_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab8c72cf9993935e358c258374c2a1857"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void draw_gate_color_square </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a>&#160;</td>
          <td class="paramname"><em>gate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Draw the gate on an image, using only the center coordinate and sizes - resulting in a square gate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>The output image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gate</td><td>The gate to be drawn. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color</td><td>The color of the lines, in UYVY format. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00538">538</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="image_8c_source.html#l00880">image_draw_crosshair()</a>, <a class="el" href="image_8c_source.html#l00921">image_draw_line_color()</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00055">gate_img::sz</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00058">gate_img::sz_left</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00059">gate_img::sz_right</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00051">gate_img::x</a>, <a class="el" href="image_8h_source.html#l00059">point_t::x</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00052">gate_img::y</a>, and <a class="el" href="image_8h_source.html#l00060">point_t::y</a>.</p>

<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_ab8c72cf9993935e358c258374c2a1857_cgraph.png" border="0" usemap="#snake__gate__detection_8c_ab8c72cf9993935e358c258374c2a1857_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_ab8c72cf9993935e358c258374c2a1857_cgraph" id="snake__gate__detection_8c_ab8c72cf9993935e358c258374c2a1857_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2a3da4e9600e16e13b490769b3374ffa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gate_refine_corners </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>color_image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>x_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>y_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refine the four corners of the gate, based on the color around the supposed corner locations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">color_image</td><td>The color image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_points</td><td>The x-coordinates of the gate. These will be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_points</td><td>The y-coordinates of the gate. These will be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Full size of the gate. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00993">993</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l01013">refine_single_corner()</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a2a3da4e9600e16e13b490769b3374ffa_cgraph.png" border="0" usemap="#snake__gate__detection_8c_a2a3da4e9600e16e13b490769b3374ffa_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a2a3da4e9600e16e13b490769b3374ffa_cgraph" id="snake__gate__detection_8c_a2a3da4e9600e16e13b490769b3374ffa_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a2a3da4e9600e16e13b490769b3374ffa_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a2a3da4e9600e16e13b490769b3374ffa_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a2a3da4e9600e16e13b490769b3374ffa_icgraph" id="snake__gate__detection_8c_a2a3da4e9600e16e13b490769b3374ffa_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1dc48b4673a3131cf83a0d0692c95183"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int intersection_boxes </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x_box_1</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y_box_1</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x_box_2</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y_box_2</em>[4]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l01167">1167</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l01183">overlap_intervals()</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01131">intersection_over_union()</a>.</p>

<p><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a1dc48b4673a3131cf83a0d0692c95183_cgraph.png" border="0" usemap="#snake__gate__detection_8c_a1dc48b4673a3131cf83a0d0692c95183_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a1dc48b4673a3131cf83a0d0692c95183_cgraph" id="snake__gate__detection_8c_a1dc48b4673a3131cf83a0d0692c95183_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a1dc48b4673a3131cf83a0d0692c95183_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a1dc48b4673a3131cf83a0d0692c95183_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a1dc48b4673a3131cf83a0d0692c95183_icgraph" id="snake__gate__detection_8c_a1dc48b4673a3131cf83a0d0692c95183_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aebc98e80a4263c1220b508a0a3ca975a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float intersection_over_union </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x_box_1</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y_box_1</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x_box_2</em>[4], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y_box_2</em>[4]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l01131">1131</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l01167">intersection_boxes()</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_aebc98e80a4263c1220b508a0a3ca975a_cgraph.png" border="0" usemap="#snake__gate__detection_8c_aebc98e80a4263c1220b508a0a3ca975a_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_aebc98e80a4263c1220b508a0a3ca975a_cgraph" id="snake__gate__detection_8c_aebc98e80a4263c1220b508a0a3ca975a_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_aebc98e80a4263c1220b508a0a3ca975a_icgraph.png" border="0" usemap="#snake__gate__detection_8c_aebc98e80a4263c1220b508a0a3ca975a_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_aebc98e80a4263c1220b508a0a3ca975a_icgraph" id="snake__gate__detection_8c_aebc98e80a4263c1220b508a0a3ca975a_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a12f648ab707f85b8c8fdf5915a415beb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int overlap_intervals </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val_low_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val_high_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val_low_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>val_high_2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l01183">1183</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01167">intersection_boxes()</a>.</p>

<p><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a12f648ab707f85b8c8fdf5915a415beb_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a12f648ab707f85b8c8fdf5915a415beb_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a12f648ab707f85b8c8fdf5915a415beb_icgraph" id="snake__gate__detection_8c_a12f648ab707f85b8c8fdf5915a415beb_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af769b63bbec582d186cbe93175d6dc8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void refine_single_corner </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>corner_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>corner_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>size_factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Refine a single corner, based on the color around the coordinate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">im</td><td>The color image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">corner_x</td><td>The corner's initial x-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">corner_y</td><td>The corner's initial y-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Full size of the gate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size_factor</td><td>The ratio of the size in which we will look for a better corner location. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l01013">1013</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00491">draw_gate_color_polygon()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00060">green_color</a>, <a class="el" href="image_8h_source.html#l00047">image_t::h</a>, <a class="el" href="image_8h_source.html#l00046">image_t::w</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00053">gate_img::x_corners</a>, and <a class="el" href="snake__gate__detection_8h_source.html#l00054">gate_img::y_corners</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00993">gate_refine_corners()</a>.</p>

<p><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_af769b63bbec582d186cbe93175d6dc8c_cgraph.png" border="0" usemap="#snake__gate__detection_8c_af769b63bbec582d186cbe93175d6dc8c_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_af769b63bbec582d186cbe93175d6dc8c_cgraph" id="snake__gate__detection_8c_af769b63bbec582d186cbe93175d6dc8c_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_af769b63bbec582d186cbe93175d6dc8c_icgraph.png" border="0" usemap="#snake__gate__detection_8c_af769b63bbec582d186cbe93175d6dc8c_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_af769b63bbec582d186cbe93175d6dc8c_icgraph" id="snake__gate__detection_8c_af769b63bbec582d186cbe93175d6dc8c_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a95be7abc3abcecbe58309a065d099f87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float segment_length </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structpoint__t">point_t</a>&#160;</td>
          <td class="paramname"><em>Q1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structpoint__t">point_t</a>&#160;</td>
          <td class="paramname"><em>Q2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the segment length between two 2D-points. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Q1</td><td>Point 1. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Q2</td><td>Point 2. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00802">802</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="image_8h_source.html#l00059">point_t::x</a>, and <a class="el" href="image_8h_source.html#l00060">point_t::y</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00581">check_gate_outline()</a>.</p>

<p><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a95be7abc3abcecbe58309a065d099f87_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a95be7abc3abcecbe58309a065d099f87_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a95be7abc3abcecbe58309a065d099f87_icgraph" id="snake__gate__detection_8c_a95be7abc3abcecbe58309a065d099f87_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae8a819264189a243f210db763c40d893"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_gate_points </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> *&#160;</td>
          <td class="paramname"><em>gate</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine and set the corner locations in gate.x_corners, g.y_corners, based on the center of the gate and its size, assuming a square window. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gate</td><td>The gate struct with the relevant information. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00971">971</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8h_source.html#l00055">gate_img::sz</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00051">gate_img::x</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00053">gate_img::x_corners</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00052">gate_img::y</a>, and <a class="el" href="snake__gate__detection_8h_source.html#l00054">gate_img::y_corners</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_ae8a819264189a243f210db763c40d893_icgraph.png" border="0" usemap="#snake__gate__detection_8c_ae8a819264189a243f210db763c40d893_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_ae8a819264189a243f210db763c40d893_icgraph" id="snake__gate__detection_8c_ae8a819264189a243f210db763c40d893_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6f4b4ad6fe02036ec21c3ad960c041bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int snake_gate_detection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_px_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>min_gate_quality</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>gate_thickness</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>min_n_sides</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>color_Ym</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>color_YM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>color_Um</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>color_UM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>color_Vm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>color_VM</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> *&#160;</td>
          <td class="paramname"><em>best_gate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> *&#160;</td>
          <td class="paramname"><em>gates_c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>n_gates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exclude_top</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>exclude_bottom</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run snake gate detection on an image. </p>
<p>It assumes that it gets images over time, and remembers previous detections.</p>
<p>Snake gate takes samples from an image. If a sample corresponds to the target color, it will then go up and down, and afterwards left and right, in order to find chains of pixels of the right color. This forms the initial guess for a square approximation to the gate. Then, the estimate is refined, by looking around the supposed corner locations. This leads to a polygon gate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">success</td><td>Whether a gate was detected </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">img</td><td>The input image. We will draw in it. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">n_samples</td><td>The number of samples taken to find a gate - proportional to the computational effort and detection performance. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_px_size</td><td>The minimum pixel size an initial, purely square detection should have </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min_gate_quality</td><td>How much percentage of the initial square outline needs to have the target color. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gate_thickness</td><td>After snaking, how much the extreme coordinates have to be adjusted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color_ym</td><td>The Y minimum value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color_yM</td><td>The Y maximum value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color_um</td><td>The U minimum value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color_uM</td><td>The U maximum value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color_vm</td><td>The V minimum value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">color_vM</td><td>The V maximum value </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*best_gate</td><td>This <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> struct will be filled with the data of the best detected gate. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*gates_c</td><td>Array of gates with size MAX_GATES </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">exclude_top</td><td>The number of pixels excluded for sampling at the top of the image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">exclude_bottom</td><td>The number of pixels excluded for sampling at the bottom of the image. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00135">135</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l00082">best_quality</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00061">blue_color</a>, <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00673">check_gate_initial()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00581">check_gate_outline()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00090">cmpfunc()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00068">color_U_max</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00067">color_U_min</a>, <a class="el" href="detect__gate_8c_source.html#l00092">color_Um</a>, <a class="el" href="detect__gate_8c_source.html#l00093">color_UM</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00070">color_V_max</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00069">color_V_min</a>, <a class="el" href="detect__gate_8c_source.html#l00094">color_Vm</a>, <a class="el" href="detect__gate_8c_source.html#l00095">color_VM</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00066">color_Y_max</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00065">color_Y_min</a>, <a class="el" href="detect__gate_8c_source.html#l00090">color_Ym</a>, <a class="el" href="detect__gate_8c_source.html#l00091">color_YM</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00057">DRAW_GATE</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00478">draw_gate()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00491">draw_gate_color_polygon()</a>, <a class="el" href="detect__gate_8c_source.html#l00097">exclude_bottom</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00053">FAIL_DETECT</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00056">FILTER_IMAGE</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00993">gate_refine_corners()</a>, <a class="el" href="detect__gate_8c_source.html#l00089">gate_thickness</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00060">green_color</a>, <a class="el" href="image_8h_source.html#l00047">image_t::h</a>, <a class="el" href="image_8c_source.html#l00880">image_draw_crosshair()</a>, <a class="el" href="image_8c_source.html#l00166">image_yuv422_colorfilt()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l01131">intersection_over_union()</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00047">MAX_GATES</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00073">min_pixel_size</a>, <a class="el" href="detect__gate_8c_source.html#l00087">min_px_size</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00057">gate_img::n_sides</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00077">n_total_samples</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00056">gate_img::quality</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00971">set_gate_points()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00919">snake_left_and_right()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00859">snake_up_and_down()</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00052">SUCCESS_DETECT</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00055">gate_img::sz</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00058">gate_img::sz_left</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00059">gate_img::sz_right</a>, <a class="el" href="image_8h_source.html#l00046">image_t::w</a>, <a class="el" href="snake__gate__detection_8c_source.html#l00062">white_color</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00051">gate_img::x</a>, <a class="el" href="image_8h_source.html#l00059">point_t::x</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00053">gate_img::x_corners</a>, <a class="el" href="snake__gate__detection_8h_source.html#l00052">gate_img::y</a>, and <a class="el" href="snake__gate__detection_8h_source.html#l00054">gate_img::y_corners</a>.</p>

<p>Referenced by <a class="el" href="detect__gate_8c_source.html#l00134">detect_gate_func()</a>.</p>

<p><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a6f4b4ad6fe02036ec21c3ad960c041bd_cgraph.png" border="0" usemap="#snake__gate__detection_8c_a6f4b4ad6fe02036ec21c3ad960c041bd_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a6f4b4ad6fe02036ec21c3ad960c041bd_cgraph" id="snake__gate__detection_8c_a6f4b4ad6fe02036ec21c3ad960c041bd_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_a6f4b4ad6fe02036ec21c3ad960c041bd_icgraph.png" border="0" usemap="#snake__gate__detection_8c_a6f4b4ad6fe02036ec21c3ad960c041bd_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_a6f4b4ad6fe02036ec21c3ad960c041bd_icgraph" id="snake__gate__detection_8c_a6f4b4ad6fe02036ec21c3ad960c041bd_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aef693c11bfcfa77faaaefba6304e4308"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void snake_left_and_right </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>x_low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>y_low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>x_high</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>y_high</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The actual snaking. </p>
<p>An "agent" starts at (x,y) and goes as far as possible left and right (x-direction), keeping a chain of "connected" target color pixels. The agent can go slightly to the top and bottom.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">im</td><td>The input image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>The initial x-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>The initial y-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_low</td><td>The current lowest x-estimate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_low</td><td>The y-coordinate that corresponds to the current x_low </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_high</td><td>The current highest x-estimate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_high</td><td>The y-coordinate that corresponds to the current x_high </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00919">919</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, <a class="el" href="image_8h_source.html#l00047">image_t::h</a>, <a class="el" href="image_8h_source.html#l00059">point_t::x</a>, and <a class="el" href="image_8h_source.html#l00060">point_t::y</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_aef693c11bfcfa77faaaefba6304e4308_cgraph.png" border="0" usemap="#snake__gate__detection_8c_aef693c11bfcfa77faaaefba6304e4308_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_aef693c11bfcfa77faaaefba6304e4308_cgraph" id="snake__gate__detection_8c_aef693c11bfcfa77faaaefba6304e4308_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_aef693c11bfcfa77faaaefba6304e4308_icgraph.png" border="0" usemap="#snake__gate__detection_8c_aef693c11bfcfa77faaaefba6304e4308_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_aef693c11bfcfa77faaaefba6304e4308_icgraph" id="snake__gate__detection_8c_aef693c11bfcfa77faaaefba6304e4308_icgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac1ed4c7026af2f6090d0098ea9276559"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void snake_up_and_down </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> *&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>x_low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>y_low</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>x_high</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>y_high</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The actual snaking. </p>
<p>An "agent" starts at (x,y) and goes as far as possible up and down (y-direction), keeping a chain of "connected" target color pixels. The agent can go slightly to the right and left.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">im</td><td>The input image. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>The initial x-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>The initial y-coordinate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_low</td><td>The x-coordinate that corresponds to the current y_low. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_low</td><td>The current lowest y-estimate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">x_high</td><td>The x-coordinate that corresponds to the current y_high </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y_high</td><td>The current highest y-estimate </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00859">859</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>References <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, <a class="el" href="UKF__Wind__Estimator_8c_source.html#l00821">h()</a>, <a class="el" href="image_8h_source.html#l00047">image_t::h</a>, <a class="el" href="image_8h_source.html#l00046">image_t::w</a>, <a class="el" href="image_8h_source.html#l00059">point_t::x</a>, and <a class="el" href="image_8h_source.html#l00060">point_t::y</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

<p><div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_ac1ed4c7026af2f6090d0098ea9276559_cgraph.png" border="0" usemap="#snake__gate__detection_8c_ac1ed4c7026af2f6090d0098ea9276559_cgraph" alt=""/></div>
<map name="snake__gate__detection_8c_ac1ed4c7026af2f6090d0098ea9276559_cgraph" id="snake__gate__detection_8c_ac1ed4c7026af2f6090d0098ea9276559_cgraph">
</map>
</div>
</p>

<p><div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><img src="snake__gate__detection_8c_ac1ed4c7026af2f6090d0098ea9276559_icgraph.png" border="0" usemap="#snake__gate__detection_8c_ac1ed4c7026af2f6090d0098ea9276559_icgraph" alt=""/></div>
<map name="snake__gate__detection_8c_ac1ed4c7026af2f6090d0098ea9276559_icgraph" id="snake__gate__detection_8c_ac1ed4c7026af2f6090d0098ea9276559_icgraph">
</map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a0483d856b36b358ff3b62e6a3c6f95f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int* array</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00094">94</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00096">cmp_i()</a>.</p>

</div>
</div>
<a class="anchor" id="a2a7e3319e85fd12b99f5c03652b46333"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float best_fitness = 100000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00083">83</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7c57ce6e2713cf42378f4509e80faef1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float best_quality = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00082">82</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a0776567269795baa33da86545b9561b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> blue_color[4] = {0, 128, 0, 128}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00061">61</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="af821bac5d8143c4f5e6cf3c4d4538e9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> color_U_max</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00068">68</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a085553c5664fe346406680ca8b9c4676"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> color_U_min</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00067">67</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f430c2b23ed49640e85741cace3cca7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> color_V_max</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00070">70</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a4b676c1bc0ae93fd3cf0a83e71a485c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> color_V_min</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00069">69</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="af0a705296aaf7b8f6e785debb166d907"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> color_Y_max</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00066">66</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a579db38318e65b5f71517ec9de5e749d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> color_Y_min</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00065">65</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="af1277b5afcda89127b598dbf4a266725"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> green_color[4] = {255, 128, 255, 128}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00060">60</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01013">refine_single_corner()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e27c9ea9d9281096fd4ae3dff59ebcd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="image_8h.html#structimage__t">image_t</a> img_result</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00081">81</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7153b5e7598a025203aa5d9e14e14c10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int min_pixel_size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00073">73</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00581">check_gate_outline()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a20bd59294d98b91a7f530ce43098814c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int n_total_samples</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00077">77</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l01102">check_color_snake_gate_detection()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
<a class="anchor" id="a557e23d808a52633032263860c2e41ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="snake__gate__detection_8h.html#structgate__img">gate_img</a> temp_check_gate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00080">80</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

</div>
</div>
<a class="anchor" id="aca756fd2f555959e02c0d4a6bc0a4a3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vl53l1__types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> white_color[4] = {255, 255, 255, 255}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="snake__gate__detection_8c_source.html#l00062">62</a> of file <a class="el" href="snake__gate__detection_8c_source.html">snake_gate_detection.c</a>.</p>

<p>Referenced by <a class="el" href="snake__gate__detection_8c_source.html#l00478">draw_gate()</a>, and <a class="el" href="snake__gate__detection_8c_source.html#l00135">snake_gate_detection()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_c2abcdd6ccb39c3582929c0e3f5651c2.html">modules</a></li><li class="navelem"><a class="el" href="dir_304e79c9f5d09ea65a2f55aafb6a6b9d.html">computer_vision</a></li><li class="navelem"><a class="el" href="snake__gate__detection_8c.html">snake_gate_detection.c</a></li>
    <li class="footer">Generated on Thu Dec 2 2021 03:01:13 for Paparazzi UAS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
